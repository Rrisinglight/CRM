import{s as Qe,n as De,d,p as We,r as Ye,x as T,q as he,i as $,b as t,u as W,E as Ze,l as s,v as Z,w as Fe,y as $e,g as _,c as a,e as b,m as I,j as m,h as i,k as et,a as tt,f as be,t as ge,z as He}from"../chunks/DWTpI_9b.js";import{e as Xe}from"../chunks/CE5jpK0j.js";import{S as lt,i as rt}from"../chunks/00uyEj5u.js";import{g as ot}from"../chunks/DRqhRD-H.js";import{a as nt}from"../chunks/Dqg9LriT.js";import{A as st}from"../chunks/CKvi8eoo.js";function Je(l,r,e){const u=l.slice();return u[12]=r[e],u}function Ge(l){let r,e;return{c(){r=i("div"),e=ge(l[2]),this.h()},l(u){r=a(u,"DIV",{class:!0});var o=b(r);e=be(o,l[2]),o.forEach(d),this.h()},h(){s(r,"class","p-3 bg-red-500/20 border border-red-500/50 rounded-lg text-red-600 text-sm")},m(u,o){$(u,r,o),t(r,e)},p(u,o){o&4&&tt(e,u[2])},d(u){u&&d(r)}}}function Ke(l){let r,e=l[12].label+"",u;return{c(){r=i("option"),u=ge(e),this.h()},l(o){r=a(o,"OPTION",{});var C=b(r);u=be(C,e),C.forEach(d),this.h()},h(){r.__value=l[12].value,T(r,r.__value)},m(o,C){$(o,r,C),t(r,u)},p:De,d(o){o&&d(r)}}}function at(l){let r;return{c(){r=ge("–î–æ–±–∞–≤–∏—Ç—å –°–ú–ò")},l(e){r=be(e,"–î–æ–±–∞–≤–∏—Ç—å –°–ú–ò")},m(e,u){$(e,r,u)},d(e){e&&d(r)}}}function it(l){let r;return{c(){r=ge("–°–æ–∑–¥–∞–Ω–∏–µ...")},l(e){r=be(e,"–°–æ–∑–¥–∞–Ω–∏–µ...")},m(e,u){$(e,r,u)},d(e){e&&d(r)}}}function ut(l){let r,e,u,o='<a href="/media" class="p-2 hover:bg-gray-100 rounded-lg transition-colors"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg></a> <h1 class="text-2xl font-bold">–ù–æ–≤–æ–µ –°–ú–ò</h1>',C,c,E,O,V,oe="–ù–∞–∑–≤–∞–Ω–∏–µ *",ee,x,te,j,k,le="–û–ø–∏—Å–∞–Ω–∏–µ",re,L,_e,S,q,F,Oe="–ö–∞—Ç–µ–≥–æ—Ä–∏—è",me,v,z,Ve="–ù–µ –≤—ã–±—Ä–∞–Ω–∞",ve,H,X,je="–Ø–∑—ã–∫ –ø—É–±–ª–∏–∫–∞—Ü–∏–π",ye,w,N,ze="üá∑üá∫ –†—É—Å—Å–∫–∏–π",P,Ne="üá¨üáß English",we,J,G,Pe="–°–∞–π—Ç",xe,A,ke,K,Q,Ue="–ü—Ä–∏–º–µ—á–∞–Ω–∏—è",Ce,B,Ee,R,M,Se="–û—Ç–º–µ–Ω–∞",Te,D,Ie,Re,g=l[2]&&Ge(l),Y=Xe(l[3]),p=[];for(let n=0;n<Y.length;n+=1)p[n]=Ke(Je(l,Y,n));function Me(n,y){return n[1]?it:at}let ne=Me(l),U=ne(l);return{c(){r=m(),e=i("div"),u=i("div"),u.innerHTML=o,C=m(),c=i("form"),g&&g.c(),E=m(),O=i("div"),V=i("label"),V.textContent=oe,ee=m(),x=i("input"),te=m(),j=i("div"),k=i("label"),k.textContent=le,re=m(),L=i("textarea"),_e=m(),S=i("div"),q=i("div"),F=i("label"),F.textContent=Oe,me=m(),v=i("select"),z=i("option"),z.textContent=Ve;for(let n=0;n<p.length;n+=1)p[n].c();ve=m(),H=i("div"),X=i("label"),X.textContent=je,ye=m(),w=i("select"),N=i("option"),N.textContent=ze,P=i("option"),P.textContent=Ne,we=m(),J=i("div"),G=i("label"),G.textContent=Pe,xe=m(),A=i("input"),ke=m(),K=i("div"),Q=i("label"),Q.textContent=Ue,Ce=m(),B=i("textarea"),Ee=m(),R=i("div"),M=i("a"),M.textContent=Se,Te=m(),D=i("button"),U.c(),this.h()},l(n){$e("svelte-497a8z",document.head).forEach(d),r=_(n),e=a(n,"DIV",{class:!0});var f=b(e);u=a(f,"DIV",{class:!0,"data-svelte-h":!0}),I(u)!=="svelte-1jpnk58"&&(u.innerHTML=o),C=_(f),c=a(f,"FORM",{class:!0});var h=b(c);g&&g.l(h),E=_(h),O=a(h,"DIV",{});var se=b(O);V=a(se,"LABEL",{class:!0,"data-svelte-h":!0}),I(V)!=="svelte-4gozwv"&&(V.textContent=oe),ee=_(se),x=a(se,"INPUT",{type:!0,placeholder:!0,class:!0}),se.forEach(d),te=_(h),j=a(h,"DIV",{});var ae=b(j);k=a(ae,"LABEL",{class:!0,"data-svelte-h":!0}),I(k)!=="svelte-548fvh"&&(k.textContent=le),re=_(ae),L=a(ae,"TEXTAREA",{rows:!0,placeholder:!0,class:!0}),b(L).forEach(d),ae.forEach(d),_e=_(h),S=a(h,"DIV",{class:!0});var ie=b(S);q=a(ie,"DIV",{});var ue=b(q);F=a(ue,"LABEL",{class:!0,"data-svelte-h":!0}),I(F)!=="svelte-1n14pm8"&&(F.textContent=Oe),me=_(ue),v=a(ue,"SELECT",{class:!0,style:!0});var Le=b(v);z=a(Le,"OPTION",{"data-svelte-h":!0}),I(z)!=="svelte-1feyef5"&&(z.textContent=Ve);for(let Be=0;Be<p.length;Be+=1)p[Be].l(Le);Le.forEach(d),ue.forEach(d),ve=_(ie),H=a(ie,"DIV",{});var ce=b(H);X=a(ce,"LABEL",{class:!0,"data-svelte-h":!0}),I(X)!=="svelte-15z9jmh"&&(X.textContent=je),ye=_(ce),w=a(ce,"SELECT",{class:!0,style:!0});var Ae=b(w);N=a(Ae,"OPTION",{"data-svelte-h":!0}),I(N)!=="svelte-1xj7rlc"&&(N.textContent=ze),P=a(Ae,"OPTION",{"data-svelte-h":!0}),I(P)!=="svelte-1q4rti8"&&(P.textContent=Ne),Ae.forEach(d),ce.forEach(d),ie.forEach(d),we=_(h),J=a(h,"DIV",{});var de=b(J);G=a(de,"LABEL",{class:!0,"data-svelte-h":!0}),I(G)!=="svelte-14b8gfn"&&(G.textContent=Pe),xe=_(de),A=a(de,"INPUT",{type:!0,placeholder:!0,class:!0}),de.forEach(d),ke=_(h),K=a(h,"DIV",{});var fe=b(K);Q=a(fe,"LABEL",{class:!0,"data-svelte-h":!0}),I(Q)!=="svelte-ds4jk8"&&(Q.textContent=Ue),Ce=_(fe),B=a(fe,"TEXTAREA",{rows:!0,placeholder:!0,class:!0}),b(B).forEach(d),fe.forEach(d),Ee=_(h),R=a(h,"DIV",{class:!0});var pe=b(R);M=a(pe,"A",{href:!0,class:!0,"data-svelte-h":!0}),I(M)!=="svelte-dycuge"&&(M.textContent=Se),Te=_(pe),D=a(pe,"BUTTON",{type:!0,class:!0});var qe=b(D);U.l(qe),qe.forEach(d),pe.forEach(d),h.forEach(d),f.forEach(d),this.h()},h(){document.title="–ù–æ–≤–æ–µ –°–ú–ò | CRM",s(u,"class","flex items-center gap-4 mb-8"),s(V,"class","block text-sm font-medium mb-2"),s(x,"type","text"),x.required=!0,s(x,"placeholder","Forbes, –†–ë–ö, –í–µ–¥–æ–º–æ—Å—Ç–∏..."),s(x,"class","w-full px-4 py-3 bg-gray-100 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"),s(k,"class","block text-sm font-medium mb-2"),s(L,"rows","3"),s(L,"placeholder","–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–¥–∞–Ω–∏—è..."),s(L,"class","w-full px-4 py-3 bg-gray-100 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 resize-none"),s(F,"class","block text-sm font-medium mb-2"),z.__value="",T(z,z.__value),s(v,"class","w-full px-4 py-3 pr-10 bg-gray-100 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-no-repeat cursor-pointer"),Z(v,"background-image","url('data:image/svg+xml;charset=UTF-8,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 24 24%27 fill=%27none%27 stroke=%27%236b7280%27 stroke-width=%272%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27%3e%3cpolyline points=%276 9 12 15 18 9%27%3e%3c/polyline%3e%3c/svg%3e')"),Z(v,"background-position","right 0.75rem center"),Z(v,"background-size","1.25rem"),l[0].category===void 0&&Fe(()=>l[7].call(v)),s(X,"class","block text-sm font-medium mb-2"),N.__value="RU",T(N,N.__value),P.__value="EN",T(P,P.__value),s(w,"class","w-full px-4 py-3 pr-10 bg-gray-100 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-no-repeat cursor-pointer"),Z(w,"background-image","url('data:image/svg+xml;charset=UTF-8,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 24 24%27 fill=%27none%27 stroke=%27%236b7280%27 stroke-width=%272%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27%3e%3cpolyline points=%276 9 12 15 18 9%27%3e%3c/polyline%3e%3c/svg%3e')"),Z(w,"background-position","right 0.75rem center"),Z(w,"background-size","1.25rem"),l[0].language===void 0&&Fe(()=>l[8].call(w)),s(S,"class","grid grid-cols-2 gap-4"),s(G,"class","block text-sm font-medium mb-2"),s(A,"type","url"),s(A,"placeholder","https://example.com"),s(A,"class","w-full px-4 py-3 bg-gray-100 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"),s(Q,"class","block text-sm font-medium mb-2"),s(B,"rows","3"),s(B,"placeholder","–û—Å–æ–±—ã–µ —É—Å–ª–æ–≤–∏—è, —Ñ–æ—Ä–º–∞—Ç –ø—É–±–ª–∏–∫–∞—Ü–∏–∏, —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è..."),s(B,"class","w-full px-4 py-3 bg-gray-100 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 resize-none"),s(M,"href","/media"),s(M,"class","flex-1 py-3 text-center border border-gray-300 hover:bg-gray-100 rounded-lg transition-colors"),s(D,"type","submit"),D.disabled=l[1],s(D,"class","flex-1 py-3 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 rounded-lg font-medium transition-colors text-white"),s(R,"class","flex gap-4 pt-4"),s(c,"class","space-y-6"),s(e,"class","p-8 max-w-2xl mx-auto")},m(n,y){$(n,r,y),$(n,e,y),t(e,u),t(e,C),t(e,c),g&&g.m(c,null),t(c,E),t(c,O),t(O,V),t(O,ee),t(O,x),T(x,l[0].name),t(c,te),t(c,j),t(j,k),t(j,re),t(j,L),T(L,l[0].description),t(c,_e),t(c,S),t(S,q),t(q,F),t(q,me),t(q,v),t(v,z);for(let f=0;f<p.length;f+=1)p[f]&&p[f].m(v,null);he(v,l[0].category,!0),t(S,ve),t(S,H),t(H,X),t(H,ye),t(H,w),t(w,N),t(w,P),he(w,l[0].language,!0),t(c,we),t(c,J),t(J,G),t(J,xe),t(J,A),T(A,l[0].website_url),t(c,ke),t(c,K),t(K,Q),t(K,Ce),t(K,B),T(B,l[0].notes),t(c,Ee),t(c,R),t(R,M),t(R,Te),t(R,D),U.m(D,null),Ie||(Re=[W(x,"input",l[5]),W(L,"input",l[6]),W(v,"change",l[7]),W(w,"change",l[8]),W(A,"input",l[9]),W(B,"input",l[10]),W(c,"submit",Ze(l[4]))],Ie=!0)},p(n,[y]){if(n[2]?g?g.p(n,y):(g=Ge(n),g.c(),g.m(c,E)):g&&(g.d(1),g=null),y&9&&x.value!==n[0].name&&T(x,n[0].name),y&9&&T(L,n[0].description),y&8){Y=Xe(n[3]);let f;for(f=0;f<Y.length;f+=1){const h=Je(n,Y,f);p[f]?p[f].p(h,y):(p[f]=Ke(h),p[f].c(),p[f].m(v,null))}for(;f<p.length;f+=1)p[f].d(1);p.length=Y.length}y&9&&he(v,n[0].category),y&9&&he(w,n[0].language),y&9&&A.value!==n[0].website_url&&T(A,n[0].website_url),y&9&&T(B,n[0].notes),ne!==(ne=Me(n))&&(U.d(1),U=ne(n),U&&(U.c(),U.m(D,null))),y&2&&(D.disabled=n[1])},i:De,o:De,d(n){n&&(d(r),d(e)),g&&g.d(),We(p,n),U.d(),Ie=!1,Ye(Re)}}}function ct(l){try{return new URL(l),!0}catch{return!1}}function dt(l,r,e){let u;et(l,nt,k=>e(11,u=k));let o={name:"",description:"",category:"",language:"RU",website_url:"",notes:""},C=!1,c="";const E=[{value:"–¥–µ–ª–æ–≤–æ–µ",label:"–î–µ–ª–æ–≤–æ–µ"},{value:"lifestyle",label:"Lifestyle"},{value:"IT",label:"IT"},{value:"—Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω–æ–µ",label:"–†–µ–≥–∏–æ–Ω–∞–ª—å–Ω–æ–µ"}];async function O(){if(e(2,c=""),!o.name.trim()){e(2,c="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –°–ú–ò");return}if(o.website_url&&!ct(o.website_url)){e(2,c="–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∞–π—Ç");return}e(1,C=!0);try{const k={name:o.name.trim(),description:o.description.trim()||null,category:o.category||null,language:o.language,website_url:o.website_url.trim()||null,notes:o.notes.trim()||null},le=await fetch(`${st}/api/media/`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u.token}`},body:JSON.stringify(k)});if(!le.ok){const re=await le.json().catch(()=>({}));throw new Error(re.detail||"–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å –°–ú–ò")}ot("/media")}catch(k){e(2,c=k.message||"–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –°–ú–ò")}e(1,C=!1)}function V(){o.name=this.value,e(0,o),e(3,E)}function oe(){o.description=this.value,e(0,o),e(3,E)}function ee(){o.category=He(this),e(0,o),e(3,E)}function x(){o.language=He(this),e(0,o),e(3,E)}function te(){o.website_url=this.value,e(0,o),e(3,E)}function j(){o.notes=this.value,e(0,o),e(3,E)}return[o,C,c,E,O,V,oe,ee,x,te,j]}class mt extends lt{constructor(r){super(),rt(this,r,dt,ut,Qe,{})}}export{mt as component};
