{"version":3,"file":"_page.svelte-C0iDpMnr.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/tasks/new/_page.svelte.js"],"sourcesContent":["import { c as create_ssr_component, a as subscribe, e as each, d as add_attribute, b as escape } from \"../../../../chunks/ssr.js\";\nimport \"@sveltejs/kit/internal\";\nimport \"../../../../chunks/exports.js\";\nimport \"../../../../chunks/utils.js\";\nimport \"@sveltejs/kit/internal/server\";\nimport \"../../../../chunks/state.svelte.js\";\nimport { a as auth, A as API_BASE } from \"../../../../chunks/websocket.js\";\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let $auth, $$unsubscribe_auth;\n  $$unsubscribe_auth = subscribe(auth, (value) => $auth = value);\n  let formData = {\n    title: \"\",\n    google_doc_url: \"\",\n    google_forms_url: \"\"\n  };\n  let clients = [];\n  let mediaList = [];\n  async function loadData() {\n    try {\n      const [clientsRes, mediaRes] = await Promise.all([\n        fetch(`${API_BASE}/api/clients/`, {\n          headers: { \"Authorization\": `Bearer ${$auth.token}` }\n        }),\n        fetch(`${API_BASE}/api/media/`, {\n          headers: { \"Authorization\": `Bearer ${$auth.token}` }\n        })\n      ]);\n      clients = await clientsRes.json();\n      mediaList = await mediaRes.json();\n    } catch (e) {\n      console.error(\"Failed to load data:\", e);\n    }\n  }\n  loadData();\n  $$unsubscribe_auth();\n  return `${$$result.head += `<!-- HEAD_svelte-8azaqu_START -->${$$result.title = `<title>–ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞ | CRM</title>`, \"\"}<!-- HEAD_svelte-8azaqu_END -->`, \"\"} <div class=\"p-8 max-w-2xl mx-auto\"><div class=\"flex items-center gap-4 mb-8\" data-svelte-h=\"svelte-1l7ie9v\"><a href=\"/tasks\" class=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"><svg class=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 19l-7-7 7-7\"></path></svg></a> <h1 class=\"text-2xl font-bold\">–ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞</h1></div> <form class=\"space-y-6\">${``}  <div><label class=\"block text-sm font-medium mb-2\" data-svelte-h=\"svelte-8v7qhg\">–ö–ª–∏–µ–Ω—Ç *</label> <select required class=\"w-full px-4 py-3 pr-10 bg-gray-100 border border-gray-300 rounded-lg focus:outline-none focus:border-primary-500 appearance-none bg-no-repeat cursor-pointer\" style=\"background-image: url('data:image/svg+xml;charset=UTF-8,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 24 24%27 fill=%27none%27 stroke=%27%236b7280%27 stroke-width=%272%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27%3e%3cpolyline points=%276 9 12 15 18 9%27%3e%3c/polyline%3e%3c/svg%3e'); background-position: right 0.75rem center; background-size: 1.25rem;\"><option value=\"\" data-svelte-h=\"svelte-1s1t1ip\">–í—ã–±–µ—Ä–∏—Ç–µ –∫–ª–∏–µ–Ω—Ç–∞</option>${each(clients, (client) => {\n    return `<option${add_attribute(\"value\", client.id, 0)}>${escape(client.first_name)} ${escape(client.last_name)}</option>`;\n  })}</select></div>  <div><label class=\"block text-sm font-medium mb-2\" data-svelte-h=\"svelte-mgqc4i\">–ó–∞–≥–æ–ª–æ–≤–æ–∫ *</label> <input type=\"text\" required placeholder=\"–§–ò –∫–ª–∏–µ–Ω—Ç–∞ –∏–ª–∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏\" class=\"w-full px-4 py-3 bg-gray-100 border border-gray-300 rounded-lg focus:outline-none focus:border-primary-500\"${add_attribute(\"value\", formData.title, 0)}></div>  <div><label class=\"block text-sm font-medium mb-2\" data-svelte-h=\"svelte-548fvh\">–û–ø–∏—Å–∞–Ω–∏–µ</label> <textarea rows=\"3\" placeholder=\"–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏...\" class=\"w-full px-4 py-3 bg-gray-100 border border-gray-300 rounded-lg focus:outline-none focus:border-primary-500 resize-none\">${escape(\"\")}</textarea></div>  <div class=\"grid grid-cols-2 gap-4\"><div><label class=\"block text-sm font-medium mb-2\" data-svelte-h=\"svelte-raokxg\">–¢–∏–ø –∑–∞–¥–∞—á–∏</label> <select class=\"w-full px-4 py-3 pr-10 bg-gray-100 border border-gray-300 rounded-lg focus:outline-none focus:border-primary-500 appearance-none bg-no-repeat cursor-pointer\" style=\"background-image: url('data:image/svg+xml;charset=UTF-8,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 24 24%27 fill=%27none%27 stroke=%27%236b7280%27 stroke-width=%272%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27%3e%3cpolyline points=%276 9 12 15 18 9%27%3e%3c/polyline%3e%3c/svg%3e'); background-position: right 0.75rem center; background-size: 1.25rem;\"><option value=\"article\" data-svelte-h=\"svelte-5xkg7f\">–°—Ç–∞—Ç—å—è –¥–ª—è –°–ú–ò</option><option value=\"recommendation\" data-svelte-h=\"svelte-bkok3i\">–†–µ–∫–æ–º–µ–Ω–¥–∞—Ç–µ–ª—å–Ω–æ–µ –ø–∏—Å—å–º–æ</option><option value=\"cover_letter\" data-svelte-h=\"svelte-1k3sqtq\">–°–æ–ø—Ä–æ–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ–µ –ø–∏—Å—å–º–æ</option></select></div> <div><label class=\"block text-sm font-medium mb-2\" data-svelte-h=\"svelte-segy0q\">–Ø–∑—ã–∫</label> <select class=\"w-full px-4 py-3 pr-10 bg-gray-100 border border-gray-300 rounded-lg focus:outline-none focus:border-primary-500 appearance-none bg-no-repeat cursor-pointer\" style=\"background-image: url('data:image/svg+xml;charset=UTF-8,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 24 24%27 fill=%27none%27 stroke=%27%236b7280%27 stroke-width=%272%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27%3e%3cpolyline points=%276 9 12 15 18 9%27%3e%3c/polyline%3e%3c/svg%3e'); background-position: right 0.75rem center; background-size: 1.25rem;\"><option value=\"RU\" data-svelte-h=\"svelte-1xj7rlc\">üá∑üá∫ –†—É—Å—Å–∫–∏–π</option><option value=\"EN\" data-svelte-h=\"svelte-1q4rti8\">üá¨üáß English</option></select></div></div>  <div><label class=\"block text-sm font-medium mb-2\" data-svelte-h=\"svelte-1dus88o\">–°–ú–ò</label> <select class=\"w-full px-4 py-3 pr-10 bg-gray-100 border border-gray-300 rounded-lg focus:outline-none focus:border-primary-500 appearance-none bg-no-repeat cursor-pointer\" style=\"background-image: url('data:image/svg+xml;charset=UTF-8,%3csvg xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 24 24%27 fill=%27none%27 stroke=%27%236b7280%27 stroke-width=%272%27 stroke-linecap=%27round%27 stroke-linejoin=%27round%27%3e%3cpolyline points=%276 9 12 15 18 9%27%3e%3c/polyline%3e%3c/svg%3e'); background-position: right 0.75rem center; background-size: 1.25rem;\"><option value=\"\" data-svelte-h=\"svelte-fyb273\">–ù–µ –≤—ã–±—Ä–∞–Ω–æ</option>${each(mediaList, (media) => {\n    return `<option${add_attribute(\"value\", media.id, 0)}>${escape(media.name)}</option>`;\n  })}</select></div>  <div class=\"space-y-4\"><div><label class=\"block text-sm font-medium mb-2\" data-svelte-h=\"svelte-1vse9ok\">Google Doc</label> <input type=\"url\" placeholder=\"https://docs.google.com/...\" class=\"w-full px-4 py-3 bg-gray-100 border border-gray-300 rounded-lg focus:outline-none focus:border-primary-500\"${add_attribute(\"value\", formData.google_doc_url, 0)}></div> <div><label class=\"block text-sm font-medium mb-2\" data-svelte-h=\"svelte-8z7m2f\">Google Forms (–æ—Ç–≤–µ—Ç—ã –∫–ª–∏–µ–Ω—Ç–∞)</label> <input type=\"url\" placeholder=\"https://docs.google.com/forms/...\" class=\"w-full px-4 py-3 bg-gray-100 border border-gray-300 rounded-lg focus:outline-none focus:border-primary-500\"${add_attribute(\"value\", formData.google_forms_url, 0)}></div></div>  <div class=\"flex gap-4 pt-4\"><a href=\"/tasks\" class=\"flex-1 py-3 text-center border border-gray-300 hover:bg-gray-100 rounded-lg transition-colors\" data-svelte-h=\"svelte-moivuc\">–û—Ç–º–µ–Ω–∞</a> <button type=\"submit\" ${\"\"} class=\"flex-1 py-3 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 rounded-lg font-medium transition-colors text-white\">${`–°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É`}</button></div></form></div>`;\n});\nexport {\n  Page as default\n};\n"],"names":[],"mappings":";;;;;;AAOK,MAAC,IAAI,GAAG,oBAAoB,CAAC,CAAC,QAAQ,EAAE,OAAO,EAAE,UAAU,EAAE,KAAK,KAAK;AAC5E,EAAE,IAAI,KAAK,EAAE,kBAAkB;AAC/B,EAAE,kBAAkB,GAAG,SAAS,CAAC,IAAI,EAAE,CAAC,KAAK,KAAK,KAAK,GAAG,KAAK,CAAC;AAChE,EAAE,IAAI,QAAQ,GAAG;AACjB,IAAI,KAAK,EAAE,EAAE;AACb,IAAI,cAAc,EAAE,EAAE;AACtB,IAAI,gBAAgB,EAAE;AACtB,GAAG;AACH,EAAE,IAAI,OAAO,GAAG,EAAE;AAClB,EAAE,IAAI,SAAS,GAAG,EAAE;AACpB,EAAE,eAAe,QAAQ,GAAG;AAC5B,IAAI,IAAI;AACR,MAAM,MAAM,CAAC,UAAU,EAAE,QAAQ,CAAC,GAAG,MAAM,OAAO,CAAC,GAAG,CAAC;AACvD,QAAQ,KAAK,CAAC,CAAC,EAAE,QAAQ,CAAC,aAAa,CAAC,EAAE;AAC1C,UAAU,OAAO,EAAE,EAAE,eAAe,EAAE,CAAC,OAAO,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC;AAC7D,SAAS,CAAC;AACV,QAAQ,KAAK,CAAC,CAAC,EAAE,QAAQ,CAAC,WAAW,CAAC,EAAE;AACxC,UAAU,OAAO,EAAE,EAAE,eAAe,EAAE,CAAC,OAAO,EAAE,KAAK,CAAC,KAAK,CAAC,CAAC;AAC7D,SAAS;AACT,OAAO,CAAC;AACR,MAAM,OAAO,GAAG,MAAM,UAAU,CAAC,IAAI,EAAE;AACvC,MAAM,SAAS,GAAG,MAAM,QAAQ,CAAC,IAAI,EAAE;AACvC,IAAI,CAAC,CAAC,OAAO,CAAC,EAAE;AAChB,MAAM,OAAO,CAAC,KAAK,CAAC,sBAAsB,EAAE,CAAC,CAAC;AAC9C,IAAI;AACJ,EAAE;AACF,EAAE,QAAQ,EAAE;AACZ,EAAE,kBAAkB,EAAE;AACtB,EAAE,OAAO,CAAC,EAAE,QAAQ,CAAC,IAAI,IAAI,CAAC,iCAAiC,EAAE,QAAQ,CAAC,KAAK,GAAG,CAAC,iCAAiC,CAAC,EAAE,EAAE,CAAC,+BAA+B,CAAC,EAAE,EAAE,CAAC,+bAA+b,EAAE,CAAC,CAAC,CAAC,0uBAA0uB,EAAE,IAAI,CAAC,OAAO,EAAE,CAAC,MAAM,KAAK;AACz2C,IAAI,OAAO,CAAC,OAAO,EAAE,aAAa,CAAC,OAAO,EAAE,MAAM,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC,SAAS,CAAC;AAC7H,EAAE,CAAC,CAAC,CAAC,iTAAiT,EAAE,aAAa,CAAC,OAAO,EAAE,QAAQ,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,sSAAsS,EAAE,MAAM,CAAC,EAAE,CAAC,CAAC,g/EAAg/E,EAAE,IAAI,CAAC,SAAS,EAAE,CAAC,KAAK,KAAK;AAClqG,IAAI,OAAO,CAAC,OAAO,EAAE,aAAa,CAAC,OAAO,EAAE,KAAK,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC;AACzF,EAAE,CAAC,CAAC,CAAC,2TAA2T,EAAE,aAAa,CAAC,OAAO,EAAE,QAAQ,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC,mTAAmT,EAAE,aAAa,CAAC,OAAO,EAAE,QAAQ,CAAC,gBAAgB,EAAE,CAAC,CAAC,CAAC,kOAAkO,EAAE,EAAE,CAAC,2HAA2H,EAAE,CAAC,cAAc,CAAC,CAAC,4BAA4B,CAAC;AACjnC,CAAC;;;;"}