import{s as de,n as oe,d as h,r as fe,l as o,x as O,i as S,b as n,u as Z,E as ce,c as d,e as E,m as A,g as I,h as f,j as L,a as $,f as R,t as z}from"../chunks/DWTpI_9b.js";import{S as pe,i as me}from"../chunks/00uyEj5u.js";import{g as he}from"../chunks/DRqhRD-H.js";import{a as be}from"../chunks/Dqg9LriT.js";function ie(s){let e,t;return{c(){e=f("div"),t=z(s[2]),this.h()},l(l){e=d(l,"DIV",{class:!0});var r=E(e);t=R(r,s[2]),r.forEach(h),this.h()},h(){o(e,"class","p-3 bg-red-50 border border-red-200 rounded-lg text-red-600 text-sm")},m(l,r){S(l,e,r),n(e,t)},p(l,r){r&4&&$(t,l[2])},d(l){l&&h(e)}}}function ne(s){let e,t=s[4].email+"",l;return{c(){e=f("p"),l=z(t),this.h()},l(r){e=d(r,"P",{class:!0});var u=E(e);l=R(u,t),u.forEach(h),this.h()},h(){o(e,"class","mt-1 text-xs text-red-500")},m(r,u){S(r,e,u),n(e,l)},p(r,u){u&16&&t!==(t=r[4].email+"")&&$(l,t)},d(r){r&&h(e)}}}function ue(s){let e,t=s[4].password+"",l;return{c(){e=f("p"),l=z(t),this.h()},l(r){e=d(r,"P",{class:!0});var u=E(e);l=R(u,t),u.forEach(h),this.h()},h(){o(e,"class","mt-1 text-xs text-red-500")},m(r,u){S(r,e,u),n(e,l)},p(r,u){u&16&&t!==(t=r[4].password+"")&&$(l,t)},d(r){r&&h(e)}}}function ge(s){let e;return{c(){e=z("Войти")},l(t){e=R(t,"Войти")},m(t,l){S(t,e,l)},d(t){t&&h(e)}}}function _e(s){let e,t=`<span class="animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full"></span>
							Вход...`;return{c(){e=f("span"),e.innerHTML=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),A(e)!=="svelte-1bjyxfx"&&(e.innerHTML=t),this.h()},h(){o(e,"class","flex items-center justify-center gap-2")},m(l,r){S(l,e,r)},d(l){l&&h(e)}}}function ve(s){let e,t,l,r,u="CRM для журналистов",V,i,D,g,y,B="Email",w,_,U,G,J,x,T,ee="Пароль",K,v,q,Q,W,k,X,j,te=`Нет аккаунта?
			<a href="/register" class="text-blue-600 hover:text-blue-800 hover:underline transition-colors duration-200">Зарегистрироваться</a>`,Y,le,c=s[2]&&ie(s),p=s[4].email&&ne(s),m=s[4].password&&ue(s);function re(a,b){return a[3]?_e:ge}let F=re(s),C=F(s);return{c(){e=f("div"),t=f("div"),l=f("div"),r=f("h1"),r.textContent=u,V=L(),i=f("form"),c&&c.c(),D=L(),g=f("div"),y=f("label"),y.textContent=B,w=L(),_=f("input"),G=L(),p&&p.c(),J=L(),x=f("div"),T=f("label"),T.textContent=ee,K=L(),v=f("input"),Q=L(),m&&m.c(),W=L(),k=f("button"),C.c(),X=L(),j=f("p"),j.innerHTML=te,this.h()},l(a){e=d(a,"DIV",{class:!0});var b=E(e);t=d(b,"DIV",{class:!0});var se=E(t);l=d(se,"DIV",{class:!0});var M=E(l);r=d(M,"H1",{class:!0,"data-svelte-h":!0}),A(r)!=="svelte-1bq7sst"&&(r.textContent=u),V=I(M),i=d(M,"FORM",{class:!0});var P=E(i);c&&c.l(P),D=I(P),g=d(P,"DIV",{});var H=E(g);y=d(H,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),A(y)!=="svelte-1k6ksji"&&(y.textContent=B),w=I(H),_=d(H,"INPUT",{id:!0,type:!0,class:!0,placeholder:!0}),G=I(H),p&&p.l(H),H.forEach(h),J=I(P),x=d(P,"DIV",{});var N=E(x);T=d(N,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),A(T)!=="svelte-1b8j21"&&(T.textContent=ee),K=I(N),v=d(N,"INPUT",{id:!0,type:!0,class:!0,placeholder:!0}),Q=I(N),m&&m.l(N),N.forEach(h),W=I(P),k=d(P,"BUTTON",{type:!0,class:!0});var ae=E(k);C.l(ae),ae.forEach(h),P.forEach(h),X=I(M),j=d(M,"P",{class:!0,"data-svelte-h":!0}),A(j)!=="svelte-1vna6ky"&&(j.innerHTML=te),M.forEach(h),se.forEach(h),b.forEach(h),this.h()},h(){o(r,"class","text-2xl font-bold text-center mb-8 text-gray-800"),o(y,"for","email"),o(y,"class","block text-sm font-medium mb-2 text-gray-700"),o(_,"id","email"),o(_,"type","email"),o(_,"class",U="w-full px-4 py-3 bg-gray-50 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all text-gray-900 placeholder-gray-400 "+(s[4].email?"border-red-400":"border-gray-300")),o(_,"placeholder","your@email.com"),o(T,"for","password"),o(T,"class","block text-sm font-medium mb-2 text-gray-700"),o(v,"id","password"),o(v,"type","password"),o(v,"class",q="w-full px-4 py-3 bg-gray-50 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all text-gray-900 placeholder-gray-400 "+(s[4].password?"border-red-400":"border-gray-300")),o(v,"placeholder","••••••••"),o(k,"type","submit"),k.disabled=s[3],o(k,"class","w-full py-3 bg-blue-600 hover:bg-blue-700 active:bg-blue-800 disabled:opacity-50 disabled:cursor-not-allowed rounded-lg font-medium transition-all duration-200 text-white shadow-lg hover:shadow-blue-500/30"),o(i,"class","space-y-6"),o(j,"class","mt-6 text-center text-sm text-gray-500"),o(l,"class","bg-white rounded-xl p-8 shadow-xl border border-gray-200"),o(t,"class","w-full max-w-md"),o(e,"class","min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-blue-50 to-indigo-100")},m(a,b){S(a,e,b),n(e,t),n(t,l),n(l,r),n(l,V),n(l,i),c&&c.m(i,null),n(i,D),n(i,g),n(g,y),n(g,w),n(g,_),O(_,s[0]),n(g,G),p&&p.m(g,null),n(i,J),n(i,x),n(x,T),n(x,K),n(x,v),O(v,s[1]),n(x,Q),m&&m.m(x,null),n(i,W),n(i,k),C.m(k,null),n(l,X),n(l,j),Y||(le=[Z(_,"input",s[6]),Z(v,"input",s[7]),Z(i,"submit",ce(s[5]))],Y=!0)},p(a,[b]){a[2]?c?c.p(a,b):(c=ie(a),c.c(),c.m(i,D)):c&&(c.d(1),c=null),b&16&&U!==(U="w-full px-4 py-3 bg-gray-50 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all text-gray-900 placeholder-gray-400 "+(a[4].email?"border-red-400":"border-gray-300"))&&o(_,"class",U),b&1&&_.value!==a[0]&&O(_,a[0]),a[4].email?p?p.p(a,b):(p=ne(a),p.c(),p.m(g,null)):p&&(p.d(1),p=null),b&16&&q!==(q="w-full px-4 py-3 bg-gray-50 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all text-gray-900 placeholder-gray-400 "+(a[4].password?"border-red-400":"border-gray-300"))&&o(v,"class",q),b&2&&v.value!==a[1]&&O(v,a[1]),a[4].password?m?m.p(a,b):(m=ue(a),m.c(),m.m(x,null)):m&&(m.d(1),m=null),F!==(F=re(a))&&(C.d(1),C=F(a),C&&(C.c(),C.m(k,null))),b&8&&(k.disabled=a[3])},i:oe,o:oe,d(a){a&&h(e),c&&c.d(),p&&p.d(),m&&m.d(),C.d(),Y=!1,fe(le)}}}function ye(s){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)}function we(s,e,t){let l="",r="",u="",V=!1,i={email:"",password:""};function D(){t(4,i={email:"",password:""});let w=!0;return l.trim()?ye(l)||(t(4,i.email="Введите корректный email",i),w=!1):(t(4,i.email="Email обязателен",i),w=!1),r?r.length<6&&(t(4,i.password="Пароль должен быть не менее 6 символов",i),w=!1):(t(4,i.password="Пароль обязателен",i),w=!1),w}async function g(){if(D()){t(2,u=""),t(3,V=!0);try{await be.login(l,r),he("/tasks")}catch{t(2,u="Неверный email или пароль")}t(3,V=!1)}}function y(){l=this.value,t(0,l)}function B(){r=this.value,t(1,r)}return[l,r,u,V,i,g,y,B]}class Ie extends pe{constructor(e){super(),me(this,e,we,ve,de,{})}}export{Ie as component};
