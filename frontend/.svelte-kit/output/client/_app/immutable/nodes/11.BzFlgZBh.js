import{n as X,a2 as $l,a3 as en,d as _,a4 as tn,G as Ml,s as be,a as z,l as f,A as re,i as j,b as d,u as Z,a5 as ae,c as D,e as I,f as P,g as N,C as Y,m as K,h as w,t as L,j as M,D as q,B as te,a6 as de,S as rr,r as ut,a7 as Yt,o as Rl,a8 as rn,p as ft,x as xe,a9 as ln,J as lr,k as nn,y as an}from"../chunks/DWTpI_9b.js";import{S as ye,i as Ee,d as We,a as we,t as ge,g as pt,c as bt,f as Ze,m as Ye,e as tt}from"../chunks/00uyEj5u.js";import{t as Me,b as sn}from"../chunks/Dqg9LriT.js";import{e as Ie,u as on,f as un}from"../chunks/CE5jpK0j.js";const Vl=typeof window<"u";let fn=Vl?()=>window.performance.now():()=>Date.now(),qt=Vl?t=>requestAnimationFrame(t):X;const Ke=new Set;function Pl(t){Ke.forEach(e=>{e.c(t)||(Ke.delete(e),e.f())}),Ke.size!==0&&qt(Pl)}function dn(t){let e;return Ke.size===0&&qt(Pl),{promise:new Promise(r=>{Ke.add(e={c:t,f:r})}),abort(){Ke.delete(e)}}}const yt=new Map;let Et=0;function cn(t){let e=5381,r=t.length;for(;r--;)e=(e<<5)-e^t.charCodeAt(r);return e>>>0}function hn(t,e){const r={stylesheet:en(e),rules:{}};return yt.set(t,r),r}function mn(t,e,r,l,n,a,i,o=0){const s=16.666/l;let u=`{
`;for(let p=0;p<=1;p+=s){const y=e+(r-e)*a(p);u+=p*100+`%{${i(y,1-y)}}
`}const m=u+`100% {${i(r,1-r)}}
}`,h=`__svelte_${cn(m)}_${o}`,c=$l(t),{stylesheet:v,rules:g}=yt.get(c)||hn(c,t);g[h]||(g[h]=!0,v.insertRule(`@keyframes ${h} ${m}`,v.cssRules.length));const E=t.style.animation||"";return t.style.animation=`${E?`${E}, `:""}${h} ${l}ms linear ${n}ms 1 both`,Et+=1,h}function vn(t,e){const r=(t.style.animation||"").split(", "),l=r.filter(e?a=>a.indexOf(e)<0:a=>a.indexOf("__svelte")===-1),n=r.length-l.length;n&&(t.style.animation=l.join(", "),Et-=n,Et||_n())}function _n(){qt(()=>{Et||(yt.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&_(e)}),yt.clear())})}function gn(t,e,r,l){if(!e)return X;const n=t.getBoundingClientRect();if(e.left===n.left&&e.right===n.right&&e.top===n.top&&e.bottom===n.bottom)return X;const{delay:a=0,duration:i=300,easing:o=tn,start:s=fn()+a,end:u=s+i,tick:m=X,css:h}=r(t,{from:e,to:n},l);let c=!0,v=!1,g;function E(){h&&(g=mn(t,0,1,i,a,o,h)),a||(v=!0)}function p(){h&&vn(t,g),c=!1}return dn(y=>{if(!v&&y>=s&&(v=!0),v&&y>=u&&(m(1,0),p()),!c)return!1;if(v){const b=y-s,k=0+1*o(b/i);m(k,1-k)}return!0}),E(),m(0,1),p}function pn(t){const e=getComputedStyle(t);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:r,height:l}=e,n=t.getBoundingClientRect();t.style.position="absolute",t.style.width=r,t.style.height=l,bn(t,n)}}function bn(t,e){const r=t.getBoundingClientRect();if(e.left!==r.left||e.top!==r.top){const l=getComputedStyle(t),n=l.transform==="none"?"":l.transform;t.style.transform=`${n} translate(${e.left-r.left}px, ${e.top-r.top}px)`}}function nr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);e&&(l=l.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,l)}return r}function kt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nr(Object(r),!0).forEach(function(l){Qe(t,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nr(Object(r)).forEach(function(l){Object.defineProperty(t,l,Object.getOwnPropertyDescriptor(r,l))})}return t}function qe(t){"@babel/helpers - typeof";return qe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qe(t)}function Qe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yn(t,e){if(t==null)return{};var r={},l=Object.keys(t),n,a;for(a=0;a<l.length;a++)n=l[a],!(e.indexOf(n)>=0)&&(r[n]=t[n]);return r}function En(t,e){if(t==null)return{};var r=yn(t,e),l,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)l=a[n],!(e.indexOf(l)>=0)&&Object.prototype.propertyIsEnumerable.call(t,l)&&(r[l]=t[l])}return r}function kn(t,e){return wn(t)||Tn(t,e)||Kt(t,e)||Sn()}function De(t){return Dn(t)||In(t)||Kt(t)||On()}function Dn(t){if(Array.isArray(t))return Bt(t)}function wn(t){if(Array.isArray(t))return t}function In(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Tn(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var l=[],n=!0,a=!1,i,o;try{for(r=r.call(t);!(n=(i=r.next()).done)&&(l.push(i.value),!(e&&l.length===e));n=!0);}catch(s){a=!0,o=s}finally{try{!n&&r.return!=null&&r.return()}finally{if(a)throw o}}return l}}function Kt(t,e){if(t){if(typeof t=="string")return Bt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bt(t,e)}}function Bt(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,l=new Array(e);r<e;r++)l[r]=t[r];return l}function On(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dt(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Kt(t))||e){r&&(t=r);var l=0,n=function(){};return{s:n,n:function(){return l>=t.length?{done:!0}:{done:!1,value:t[l++]}},e:function(s){throw s},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,i=!1,o;return{s:function(){r=r.call(t)},n:function(){var s=r.next();return a=s.done,s},e:function(s){i=!0,o=s},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(i)throw o}}}}var Cn="finalize",An="consider";function $e(t,e,r){t.dispatchEvent(new CustomEvent(Cn,{detail:{items:e,info:r}}))}function Fe(t,e,r){t.dispatchEvent(new CustomEvent(An,{detail:{items:e,info:r}}))}var Ct="draggedEntered",ct="draggedLeft",At="draggedOverIndex",Xt="draggedLeftDocument",Dt={LEFT_FOR_ANOTHER:"leftForAnother",OUTSIDE_OF_ANY:"outsideOfAny"};function Nn(t,e,r){t.dispatchEvent(new CustomEvent(Ct,{detail:{indexObj:e,draggedEl:r}}))}function Mn(t,e,r){t.dispatchEvent(new CustomEvent(ct,{detail:{draggedEl:e,type:Dt.LEFT_FOR_ANOTHER,theOtherDz:r}}))}function Rn(t,e){t.dispatchEvent(new CustomEvent(ct,{detail:{draggedEl:e,type:Dt.OUTSIDE_OF_ANY}}))}function Vn(t,e,r){t.dispatchEvent(new CustomEvent(At,{detail:{indexObj:e,draggedEl:r}}))}function Pn(t){window.dispatchEvent(new CustomEvent(Xt,{detail:{draggedEl:t}}))}var ce={DRAG_STARTED:"dragStarted",DRAGGED_ENTERED:Ct,DRAGGED_ENTERED_ANOTHER:"dragEnteredAnother",DRAGGED_OVER_INDEX:At,DRAGGED_LEFT:ct,DRAGGED_LEFT_ALL:"draggedLeftAll",DROPPED_INTO_ZONE:"droppedIntoZone",DROPPED_INTO_ANOTHER:"droppedIntoAnother",DROPPED_OUTSIDE_OF_ANY:"droppedOutsideOfAny",DRAG_STOPPED:"dragStopped"},pe={POINTER:"pointer",KEYBOARD:"keyboard"},Nt="isDndShadowItem",Mt="data-is-dnd-shadow-item-internal",Ln="data-is-dnd-shadow-item-hint",Ll="id:dnd-shadow-placeholder-0000",xn="dnd-action-dragged-el",le="id",jt=0;function xl(){jt++}function Bl(){if(jt===0)throw new Error("Bug! trying to decrement when there are no dropzones");jt--}var Jt=typeof window>"u";function Ft(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r,l=e?Fn(t):t.getBoundingClientRect(),n=getComputedStyle(t),a=n.transform;if(a){var i,o,s,u;if(a.startsWith("matrix3d("))r=a.slice(9,-1).split(/, /),i=+r[0],o=+r[5],s=+r[12],u=+r[13];else if(a.startsWith("matrix("))r=a.slice(7,-1).split(/, /),i=+r[0],o=+r[3],s=+r[4],u=+r[5];else return l;var m=n.transformOrigin,h=l.x-s-(1-i)*parseFloat(m),c=l.y-u-(1-o)*parseFloat(m.slice(m.indexOf(" ")+1)),v=i?l.width/i:t.offsetWidth,g=o?l.height/o:t.offsetHeight;return{x:h,y:c,width:v,height:g,top:c,right:h+v,bottom:c+g,left:h}}else return l}function jl(t){var e=Ft(t);return{top:e.top+window.scrollY,bottom:e.bottom+window.scrollY,left:e.left+window.scrollX,right:e.right+window.scrollX}}function Fl(t){var e=t.getBoundingClientRect();return{top:e.top+window.scrollY,bottom:e.bottom+window.scrollY,left:e.left+window.scrollX,right:e.right+window.scrollX}}function zl(t){return{x:(t.left+t.right)/2,y:(t.top+t.bottom)/2}}function Bn(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Rt(t,e){return t.y<=e.bottom&&t.y>=e.top&&t.x>=e.left&&t.x<=e.right}function it(t){return zl(Fl(t))}function ar(t,e){var r=it(t),l=jl(e);return Rt(r,l)}function ir(t,e){var r=it(t),l=it(e);return Bn(r,l)}function jn(t){var e=Fl(t);return e.right<0||e.left>document.documentElement.scrollWidth||e.bottom<0||e.top>document.documentElement.scrollHeight}function Fn(t){for(var e=t.getBoundingClientRect(),r={top:e.top,bottom:e.bottom,left:e.left,right:e.right},l=!1,n=!1,a=t.parentElement;a&&a!==document.body;){var i=window.getComputedStyle(a),o=i.overflowY,s=i.overflowX,u=o==="scroll"||o==="auto",m=s==="scroll"||s==="auto";if(u||m){var h=a.getBoundingClientRect();if(u){var c=Math.max(r.top,h.top),v=Math.min(r.bottom,h.bottom);(c!==r.top||v!==r.bottom)&&(l=!0),r.top=c,r.bottom=v}if(m){var g=Math.max(r.left,h.left),E=Math.min(r.right,h.right);(g!==r.left||E!==r.right)&&(n=!0),r.left=g,r.right=E}}a=a.parentElement}return l||n?{top:r.top,bottom:r.bottom,left:r.left,right:r.right,width:Math.max(0,r.right-r.left),height:Math.max(0,r.bottom-r.top)}:{top:e.top,bottom:e.bottom,left:e.left,right:e.right,width:Math.max(0,e.right-e.left),height:Math.max(0,e.bottom-e.top)}}var Xe;function Qt(){Xe=new Map}Qt();function zn(t){var e=Array.from(t.children).findIndex(function(r){return r.getAttribute(Mt)});if(e>=0)return Xe.has(t)||Xe.set(t,new Map),Xe.get(t).set(e,jl(t.children[e])),e}function Gn(t,e){if(!ar(t,e))return null;var r=e.children;if(r.length===0)return{index:0,isProximityBased:!0};for(var l=zn(e),n=0;n<r.length;n++)if(ar(t,r[n])){var a=Xe.has(e)&&Xe.get(e).get(n);return a&&!Rt(it(t),a)?{index:l,isProximityBased:!1}:{index:n,isProximityBased:!1}}for(var i=Number.MAX_VALUE,o=void 0,s=0;s<r.length;s++){var u=ir(t,r[s]);u<i&&(i=u,o=s)}if(r.length>0){var m=r.length,h=r[m-1],c=h.cloneNode(!1);c.style.visibility="hidden",c.style.pointerEvents="none",e.appendChild(c);var v=ir(t,c);v<i&&(o=m),e.removeChild(c)}return{index:o,isProximityBased:!0}}function rt(t){return JSON.stringify(t,null,2)}function wt(t){if(!t)throw new Error("cannot get depth of a falsy node");return Gl(t,0)}function Gl(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return t.parentElement?Gl(t.parentElement,e+1):e-1}function Un(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var r in t)if(!{}.hasOwnProperty.call(e,r)||e[r]!==t[r])return!1;return!0}function Hn(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}var Wn=200,sr=10,zt;function Zn(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Wn,l=arguments.length>3?arguments[3]:void 0,n,a,i=!1,o,s=Array.from(e).sort(function(m,h){return wt(h)-wt(m)});function u(){var m=it(t),h=l.multiScrollIfNeeded();if(!h&&o&&Math.abs(o.x-m.x)<sr&&Math.abs(o.y-m.y)<sr){zt=window.setTimeout(u,r);return}if(jn(t)){Pn(t);return}o=m;var c=!1,v=dt(s),g;try{for(v.s();!(g=v.n()).done;){var E=g.value;h&&Qt();var p=Gn(t,E);if(p!==null){var y=p.index;c=!0,E!==n?(n&&Mn(n,t,E),Nn(E,p,t),n=E):y!==a&&(Vn(E,p,t),a=y);break}}}catch(b){v.e(b)}finally{v.f()}!c&&i&&n?(Rn(n,t),n=void 0,a=void 0,i=!1):i=!0,zt=window.setTimeout(u,r)}u()}function Yn(){clearTimeout(zt),Qt()}var lt=30;function qn(){var t;function e(){t={directionObj:void 0,stepPx:0}}e();function r(a){var i=t,o=i.directionObj,s=i.stepPx;o&&(a.scrollBy(o.x*s,o.y*s),window.requestAnimationFrame(function(){return r(a)}))}function l(a){return lt-a}function n(a,i){if(!i)return!1;var o=Kn(a,i),s=!!t.directionObj;if(o===null)return s&&e(),!1;var u=!1,m=!1;return i.scrollHeight>i.clientHeight&&(o.bottom<lt?(u=!0,t.directionObj={x:0,y:1},t.stepPx=l(o.bottom)):o.top<lt&&(u=!0,t.directionObj={x:0,y:-1},t.stepPx=l(o.top)),!s&&u)||i.scrollWidth>i.clientWidth&&(o.right<lt?(m=!0,t.directionObj={x:1,y:0},t.stepPx=l(o.right)):o.left<lt&&(m=!0,t.directionObj={x:-1,y:0},t.stepPx=l(o.left)),!s&&m)?(r(i),!0):(e(),!1)}return{scrollIfNeeded:n,resetScrolling:e}}function Kn(t,e){var r=e===document.scrollingElement?{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth}:e.getBoundingClientRect();return Rt(t,r)?{top:t.y-r.top,bottom:r.bottom-t.y,left:t.x-r.left,right:r.right-t.x}:null}function Xn(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,r=Qn(t),l=Array.from(r).sort(function(s,u){return wt(u)-wt(s)}),n=qn(),a=n.scrollIfNeeded,i=n.resetScrolling;function o(){var s=e();if(!s||!l)return!1;for(var u=l.filter(function(c){return Rt(s,c.getBoundingClientRect())||c===document.scrollingElement}),m=0;m<u.length;m++){var h=a(s,u[m]);if(h)return!0}return!1}return{multiScrollIfNeeded:r.size>0?o:function(){return!1},destroy:function(){return i()}}}function Jn(t){if(!t)return[];for(var e=[],r=t;r;){var l=window.getComputedStyle(r),n=l.overflow;n.split(" ").some(function(a){return a.includes("auto")||a.includes("scroll")})&&e.push(r),r=r.parentElement}return e}function Qn(t){var e=new Set,r=dt(t),l;try{for(r.s();!(l=r.n()).done;){var n=l.value;Jn(n).forEach(function(a){return e.add(a)})}}catch(a){r.e(a)}finally{r.f()}return(document.scrollingElement.scrollHeight>document.scrollingElement.clientHeight||document.scrollingElement.scrollWidth>document.scrollingElement.clientHeight)&&e.add(document.scrollingElement),e}function $n(t){var e=t.cloneNode(!0),r=[],l=t.tagName==="SELECT",n=l?[t]:De(t.querySelectorAll("select")),a=dt(n),i;try{for(a.s();!(i=a.n()).done;){var o=i.value;r.push(o.value)}}catch(k){a.e(k)}finally{a.f()}if(n.length>0)for(var s=l?[e]:De(e.querySelectorAll("select")),u=0;u<s.length;u++){var m=s[u],h=r[u],c=m.querySelector('option[value="'.concat(h,'"'));c&&c.setAttribute("selected",!0)}var v=t.tagName==="CANVAS",g=v?[t]:De(t.querySelectorAll("canvas"));if(g.length>0)for(var E=v?[e]:De(e.querySelectorAll("canvas")),p=0;p<E.length;p++){var y=g[p],b=E[p];b.width=y.width,b.height=y.height,y.width>0&&y.height>0&&b.getContext("2d").drawImage(y,0,0)}return e}var st=Object.freeze({USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT:"USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT"}),ea=Qe({},st.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT,!1);function Ul(t){if(!st[t])throw new Error("Can't get non existing feature flag ".concat(t,"! Supported flags: ").concat(Object.keys(st)));return ea[t]}var ta=.2;function Ge(t){return"".concat(t," ").concat(ta,"s ease")}function ra(t,e){var r=t.getBoundingClientRect(),l=$n(t);Hl(t,l),l.id=xn,l.style.position="fixed";var n=r.top,a=r.left;if(l.style.top="".concat(n,"px"),l.style.left="".concat(a,"px"),e){var i=zl(r);n-=i.y-e.y,a-=i.x-e.x,window.setTimeout(function(){l.style.top="".concat(n,"px"),l.style.left="".concat(a,"px")},0)}return l.style.margin="0",l.style.boxSizing="border-box",l.style.height="".concat(r.height,"px"),l.style.width="".concat(r.width,"px"),l.style.transition="".concat(Ge("top"),", ").concat(Ge("left"),", ").concat(Ge("background-color"),", ").concat(Ge("opacity"),", ").concat(Ge("color")," "),window.setTimeout(function(){return l.style.transition+=", ".concat(Ge("width"),", ").concat(Ge("height"))},0),l.style.zIndex="9999",l.style.cursor="grabbing",l}function la(t){t.style.cursor="grab"}function na(t,e,r,l){Hl(e,t);var n=e.getBoundingClientRect(),a=t.getBoundingClientRect(),i=n.width-a.width,o=n.height-a.height;if(i||o){var s={left:(r-a.left)/a.width,top:(l-a.top)/a.height};Ul(st.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)||(t.style.height="".concat(n.height,"px"),t.style.width="".concat(n.width,"px")),t.style.left="".concat(parseFloat(t.style.left)-s.left*i,"px"),t.style.top="".concat(parseFloat(t.style.top)-s.top*o,"px")}}function Hl(t,e){var r=window.getComputedStyle(t);Array.from(r).filter(function(l){return l.startsWith("background")||l.startsWith("padding")||l.startsWith("font")||l.startsWith("text")||l.startsWith("align")||l.startsWith("justify")||l.startsWith("display")||l.startsWith("flex")||l.startsWith("border")||l==="opacity"||l==="color"||l==="list-style-type"||Ul(st.USE_COMPUTED_STYLE_INSTEAD_OF_BOUNDING_RECT)&&(l==="width"||l==="height")}).forEach(function(l){return e.style.setProperty(l,r.getPropertyValue(l),r.getPropertyPriority(l))})}function aa(t,e){t.draggable=!1,t.ondragstart=function(){return!1},e?(t.style.userSelect="",t.style.WebkitUserSelect="",t.style.cursor=""):(t.style.userSelect="none",t.style.WebkitUserSelect="none",t.style.cursor="grab")}function Wl(t){t.style.display="none",t.style.position="fixed",t.style.zIndex="-5"}function ia(t){t.style.visibility="hidden",t.setAttribute(Mt,"true")}function sa(t){t.style.visibility="",t.removeAttribute(Mt)}function _t(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};t.forEach(function(l){var n=e(l);Object.keys(n).forEach(function(a){l.style[a]=n[a]}),r(l).forEach(function(a){return l.classList.add(a)})})}function It(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return[]};t.forEach(function(l){var n=e(l);Object.keys(n).forEach(function(a){l.style[a]=""}),r(l).forEach(function(a){return l.classList.contains(a)&&l.classList.remove(a)})})}function oa(t){var e=t.style.minHeight;t.style.minHeight=window.getComputedStyle(t).getPropertyValue("height");var r=t.style.minWidth;return t.style.minWidth=window.getComputedStyle(t).getPropertyValue("width"),function(){t.style.minHeight=e,t.style.minWidth=r}}var ua="--any--",fa=100,da=20,mt=3,ca=80,or={outline:"rgba(255, 255, 102, 0.7) solid 2px"},ur="data-is-dnd-original-dragged-item",ve,ne,_e,Vt,Q,Pt,je,se,Ae,oe,Le=!1,$t=!1,er,ht=!1,gt=[],at,Ne,nt=!1,Se=new Map,$=new Map,xt=new WeakMap;function ha(t,e){Se.has(e)||Se.set(e,new Set),Se.get(e).has(t)||(Se.get(e).add(t),xl())}function fr(t,e){Se.get(e).delete(t),Bl(),Se.get(e).size===0&&Se.delete(e)}function ma(){var t=Se.get(Vt),e=dt(t),r;try{for(e.s();!(r=e.n()).done;){var l=r.value;l.addEventListener(Ct,Zl),l.addEventListener(ct,Yl),l.addEventListener(At,ql)}}catch(i){e.e(i)}finally{e.f()}window.addEventListener(Xt,et);var n=Math.max.apply(Math,De(Array.from(t.keys()).map(function(i){return $.get(i).dropAnimationDurationMs}))),a=n===0?da:Math.max(n,fa);at=Xn(t,function(){return oe}),Zn(ne,t,a*1.07,at)}function va(){var t=Se.get(Vt),e=dt(t),r;try{for(e.s();!(r=e.n()).done;){var l=r.value;l.removeEventListener(Ct,Zl),l.removeEventListener(ct,Yl),l.removeEventListener(At,ql)}}catch(n){e.e(n)}finally{e.f()}window.removeEventListener(Xt,et),at&&(at.destroy(),at=void 0),Yn()}function Lt(t){return t.findIndex(function(e){return!!e[Nt]})}function _a(t){var e;return kt(kt({},t),{},(e={},Qe(e,Nt,!0),Qe(e,le,Ll),e))}function Zl(t){var e=$.get(t.currentTarget),r=e.items,l=e.dropFromOthersDisabled;if(!(l&&t.currentTarget!==Q)){if(ht=!1,r=r.filter(function(o){return o[le]!==je[le]&&o[le]!==Ll}),Q!==t.currentTarget){var n=$.get(Q).items,a=n.filter(function(o){return!o[Nt]});Fe(Q,a,{trigger:ce.DRAGGED_ENTERED_ANOTHER,id:_e[le],source:pe.POINTER})}var i=t.detail.indexObj.index;se=t.currentTarget,r.splice(i,0,je),Fe(t.currentTarget,r,{trigger:ce.DRAGGED_ENTERED,id:_e[le],source:pe.POINTER})}}function Yl(t){if(Le){var e=$.get(t.currentTarget),r=e.items,l=e.dropFromOthersDisabled;if(!(l&&t.currentTarget!==Q&&t.currentTarget!==se)){var n=De(r),a=Lt(n);a!==-1&&n.splice(a,1);var i=se;se=void 0;var o=t.detail,s=o.type,u=o.theOtherDz;if(s===Dt.OUTSIDE_OF_ANY||s===Dt.LEFT_FOR_ANOTHER&&u!==Q&&$.get(u).dropFromOthersDisabled){ht=!0,se=Q;var m=i===Q?n:De($.get(Q).items);m.splice(Pt,0,je),Fe(Q,m,{trigger:ce.DRAGGED_LEFT_ALL,id:_e[le],source:pe.POINTER})}Fe(t.currentTarget,n,{trigger:ce.DRAGGED_LEFT,id:_e[le],source:pe.POINTER})}}}function ql(t){var e=$.get(t.currentTarget),r=e.items,l=e.dropFromOthersDisabled;if(!(l&&t.currentTarget!==Q)){var n=De(r);ht=!1;var a=t.detail.indexObj.index,i=Lt(n);i!==-1&&n.splice(i,1),n.splice(a,0,je),Fe(t.currentTarget,n,{trigger:ce.DRAGGED_OVER_INDEX,id:_e[le],source:pe.POINTER})}}function Tt(t){t.preventDefault();var e=t.touches?t.touches[0]:t;oe={x:e.clientX,y:e.clientY},ne.style.transform="translate3d(".concat(oe.x-Ae.x,"px, ").concat(oe.y-Ae.y,"px, 0)")}function et(){$t=!0,window.removeEventListener("mousemove",Tt),window.removeEventListener("touchmove",Tt),window.removeEventListener("mouseup",et),window.removeEventListener("touchend",et),va(),la(ne),se||(se=Q);var t=$.get(se),e=t.items,r=t.type;It(Se.get(r),function(a){return $.get(a).dropTargetStyle},function(a){return $.get(a).dropTargetClasses});var l=Lt(e);l===-1&&se===Q&&(l=Pt),e=e.map(function(a){return a[Nt]?_e:a});function n(){er(),$e(se,e,{trigger:ht?ce.DROPPED_OUTSIDE_OF_ANY:ce.DROPPED_INTO_ZONE,id:_e[le],source:pe.POINTER}),se!==Q&&$e(Q,$.get(Q).items,{trigger:ce.DROPPED_INTO_ANOTHER,id:_e[le],source:pe.POINTER});var a=Array.from(se.children).find(function(i){return i.getAttribute(Mt)});a&&sa(a),ba()}$.get(se).dropAnimationDisabled?n():ga(l,n)}function ga(t,e){var r=t>-1?Ft(se.children[t],!1):Ft(se,!1),l={x:r.left-parseFloat(ne.style.left),y:r.top-parseFloat(ne.style.top)},n=$.get(se),a=n.dropAnimationDurationMs,i="transform ".concat(a,"ms ease");ne.style.transition=ne.style.transition?ne.style.transition+","+i:i,ne.style.transform="translate3d(".concat(l.x,"px, ").concat(l.y,"px, 0)"),window.setTimeout(e,a)}function pa(t,e){gt.push({dz:t,destroy:e}),window.requestAnimationFrame(function(){Wl(t),document.body.appendChild(t)})}function ba(){ne&&ne.remove&&ne.remove(),ve&&ve.remove&&ve.remove(),ne=void 0,ve=void 0,_e=void 0,Vt=void 0,Q=void 0,Pt=void 0,je=void 0,se=void 0,Ae=void 0,oe=void 0,Le=!1,$t=!1,er=void 0,ht=!1,Ne&&clearTimeout(Ne),Ne=void 0,nt=!1,gt.length&&(gt.forEach(function(t){var e=t.dz,r=t.destroy;r(),e.remove()}),gt=[])}function ya(t,e){var r=!1,l={items:void 0,type:void 0,flipDurationMs:0,dragDisabled:!1,morphDisabled:!1,dropFromOthersDisabled:!1,dropTargetStyle:or,dropTargetClasses:[],transformDraggedElement:function(){},centreDraggedOnCursor:!1,dropAnimationDisabled:!1,delayTouchStartMs:0},n=new Map;function a(){window.addEventListener("mousemove",s,{passive:!1}),window.addEventListener("touchmove",s,{passive:!1,capture:!1}),window.addEventListener("mouseup",o,{passive:!1}),window.addEventListener("touchend",o,{passive:!1})}function i(){window.removeEventListener("mousemove",s),window.removeEventListener("touchmove",s),window.removeEventListener("mouseup",o),window.removeEventListener("touchend",o),Ne&&(clearTimeout(Ne),Ne=void 0,nt=!1)}function o(c){if(i(),ve=void 0,Ae=void 0,oe=void 0,c.type==="touchend"){var v=new Event("click",{bubbles:!0,cancelable:!0});c.target.dispatchEvent(v)}}function s(c){var v=!!c.touches,g=v?c.touches[0]:c;if(v&&l.delayTouchStartMs>0&&!nt){oe={x:g.clientX,y:g.clientY},(Math.abs(oe.x-Ae.x)>=mt||Math.abs(oe.y-Ae.y)>=mt)&&(Ne&&(clearTimeout(Ne),Ne=void 0),o(c));return}c.preventDefault(),oe={x:g.clientX,y:g.clientY},(Math.abs(oe.x-Ae.x)>=mt||Math.abs(oe.y-Ae.y)>=mt)&&(i(),m())}function u(c){if(!(c.target!==c.currentTarget&&(c.target.value!==void 0||c.target.isContentEditable))&&!c.button&&!Le){var v=!!c.touches,g=v&&l.delayTouchStartMs>0;g||c.preventDefault(),c.stopPropagation();var E=v?c.touches[0]:c;Ae={x:E.clientX,y:E.clientY},oe=kt({},Ae),ve=c.currentTarget,g&&(nt=!1,Ne=window.setTimeout(function(){ve&&(nt=!0,i(),m())},l.delayTouchStartMs)),a()}}function m(){Le=!0;var c=n.get(ve);Pt=c,Q=ve.parentElement;var v=Q.closest("dialog")||Q.closest("[popover]")||Q.getRootNode(),g=v.body||v,E=l.items,p=l.type,y=l.centreDraggedOnCursor,b=De(E);_e=b[c],Vt=p,je=_a(_e),ne=ra(ve,y&&oe),g.appendChild(ne);function k(){ve.parentElement?window.requestAnimationFrame(k):(ve.setAttribute(ur,!0),g.appendChild(ve),ma(),Wl(ve),je[le]=_e[le],ne.focus())}window.requestAnimationFrame(k),_t(Array.from(Se.get(l.type)).filter(function(O){return O===Q||!$.get(O).dropFromOthersDisabled}),function(O){return $.get(O).dropTargetStyle},function(O){return $.get(O).dropTargetClasses}),b.splice(c,1,je),er=oa(Q),Fe(Q,b,{trigger:ce.DRAG_STARTED,id:_e[le],source:pe.POINTER}),window.addEventListener("mousemove",Tt,{passive:!1}),window.addEventListener("touchmove",Tt,{passive:!1,capture:!1}),window.addEventListener("mouseup",et,{passive:!1}),window.addEventListener("touchend",et,{passive:!1})}function h(c){var v=c.items,g=v===void 0?void 0:v,E=c.flipDurationMs,p=E===void 0?0:E,y=c.type,b=y===void 0?ua:y,k=c.dragDisabled,O=k===void 0?!1:k,T=c.morphDisabled,C=T===void 0?!1:T,S=c.dropFromOthersDisabled,A=S===void 0?!1:S,x=c.dropTargetStyle,R=x===void 0?or:x,V=c.dropTargetClasses,B=V===void 0?[]:V,F=c.transformDraggedElement,H=F===void 0?function(){}:F,U=c.centreDraggedOnCursor,W=U===void 0?!1:U,G=c.dropAnimationDisabled,J=G===void 0?!1:G,Pe=c.delayTouchStart,fe=Pe===void 0?!1:Pe;l.dropAnimationDurationMs=p;var Ve=0;fe===!0?Ve=ca:typeof fe=="number"&&isFinite(fe)&&fe>=0&&(Ve=fe),l.delayTouchStartMs=Ve,l.type&&b!==l.type&&fr(t,l.type),l.type=b,l.items=De(g),l.dragDisabled=O,l.morphDisabled=C,l.transformDraggedElement=H,l.centreDraggedOnCursor=W,l.dropAnimationDisabled=J,r&&Le&&!$t&&(!Un(R,l.dropTargetStyle)||!Hn(B,l.dropTargetClasses))&&(It([t],function(){return l.dropTargetStyle},function(){return B}),_t([t],function(){return R},function(){return B})),l.dropTargetStyle=R,l.dropTargetClasses=De(B);function he(Ce,tr){return $.get(Ce)?$.get(Ce)[tr]:l[tr]}r&&Le&&l.dropFromOthersDisabled!==A&&(A?It([t],function(Ce){return he(Ce,"dropTargetStyle")},function(Ce){return he(Ce,"dropTargetClasses")}):_t([t],function(Ce){return he(Ce,"dropTargetStyle")},function(Ce){return he(Ce,"dropTargetClasses")})),l.dropFromOthersDisabled=A,$.set(t,l),ha(t,b);for(var ze=Le?Lt(l.items):-1,me=0;me<t.children.length;me++){var Te=t.children[me];if(aa(Te,O),me===ze){C||na(ne,Te,oe.x,oe.y),l.transformDraggedElement(ne,_e,me),ia(Te);continue}Te.removeEventListener("mousedown",xt.get(Te)),Te.removeEventListener("touchstart",xt.get(Te)),O||(Te.addEventListener("mousedown",u),Te.addEventListener("touchstart",u),xt.set(Te,u)),n.set(Te,me),r||(r=!0)}}return h(e),{update:function(v){h(v)},destroy:function(){function v(){fr(t,$.get(t).type),$.delete(t)}Le&&!t.closest("[".concat(ur,"]"))?pa(t,v):v()}}}var vt,Gt={DND_ZONE_ACTIVE:"dnd-zone-active",DND_ZONE_DRAG_DISABLED:"dnd-zone-drag-disabled"},Kl=(vt={},Qe(vt,Gt.DND_ZONE_ACTIVE,"Tab to one the items and press space-bar or enter to start dragging it"),Qe(vt,Gt.DND_ZONE_DRAG_DISABLED,"This is a disabled drag and drop list"),vt),Ea="dnd-action-aria-alert",ee;function Ut(){ee||(ee=document.createElement("div"),function(){ee.id=Ea,ee.style.position="fixed",ee.style.bottom="0",ee.style.left="0",ee.style.zIndex="-5",ee.style.opacity="0",ee.style.height="0",ee.style.width="0",ee.setAttribute("role","alert")}(),document.body.prepend(ee),Object.entries(Kl).forEach(function(t){var e=kn(t,2),r=e[0],l=e[1];return document.body.prepend(wa(r,l))}))}function ka(){return Jt?null:(document.readyState==="complete"?Ut():window.addEventListener("DOMContentLoaded",Ut),kt({},Gt))}function Da(){Jt||!ee||(Object.keys(Kl).forEach(function(t){var e;return(e=document.getElementById(t))===null||e===void 0?void 0:e.remove()}),ee.remove(),ee=void 0)}function wa(t,e){var r=document.createElement("div");return r.id=t,r.innerHTML="<p>".concat(e,"</p>"),r.style.display="none",r.style.position="fixed",r.style.zIndex="-5",r}function Je(t){if(!Jt){ee||Ut(),ee.innerHTML="";var e=document.createTextNode(t);ee.appendChild(e),ee.style.display="none",ee.style.display="inline"}}var Ia="--any--",dr={outline:"rgba(255, 255, 102, 0.7) solid 2px"},ke=!1,Ht,ue,He="",Ue,Re,Be="",Ot=new WeakSet,cr=new WeakMap,hr=new WeakMap,Wt=new Map,ie=new Map,Oe=new Map,St;function Ta(t,e){Oe.size===0&&(St=ka(),window.addEventListener("keydown",Xl),window.addEventListener("click",Jl)),Oe.has(e)||Oe.set(e,new Set),Oe.get(e).has(t)||(Oe.get(e).add(t),xl())}function mr(t,e){ue===t&&ot(),Oe.get(e).delete(t),Bl(),Oe.get(e).size===0&&Oe.delete(e),Oe.size===0&&(window.removeEventListener("keydown",Xl),window.removeEventListener("click",Jl),St=void 0,Da())}function Xl(t){if(ke)switch(t.key){case"Escape":{ot();break}}}function Jl(){ke&&(Ot.has(document.activeElement)||ot())}function Oa(t){if(ke){var e=t.currentTarget;if(e!==ue){He=e.getAttribute("aria-label")||"";var r=ie.get(ue),l=r.items,n=l.find(function(h){return h[le]===Re}),a=l.indexOf(n),i=l.splice(a,1)[0],o=ie.get(e),s=o.items,u=o.autoAriaDisabled;e.getBoundingClientRect().top<ue.getBoundingClientRect().top||e.getBoundingClientRect().left<ue.getBoundingClientRect().left?(s.push(i),u||Je("Moved item ".concat(Be," to the end of the list ").concat(He))):(s.unshift(i),u||Je("Moved item ".concat(Be," to the beginning of the list ").concat(He)));var m=ue;$e(m,l,{trigger:ce.DROPPED_INTO_ANOTHER,id:Re,source:pe.KEYBOARD}),$e(e,s,{trigger:ce.DROPPED_INTO_ZONE,id:Re,source:pe.KEYBOARD}),ue=e}}}function Ql(){Wt.forEach(function(t,e){var r=t.update;return r(ie.get(e))})}function ot(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;ie.get(ue).autoAriaDisabled||Je("Stopped dragging item ".concat(Be)),Ot.has(document.activeElement)&&document.activeElement.blur(),t&&Fe(ue,ie.get(ue).items,{trigger:ce.DRAG_STOPPED,id:Re,source:pe.KEYBOARD}),It(Oe.get(Ht),function(e){return ie.get(e).dropTargetStyle},function(e){return ie.get(e).dropTargetClasses}),Ue=null,Re=null,Be="",Ht=null,ue=null,He="",ke=!1,Ql()}function Sa(t,e){var r={items:void 0,type:void 0,dragDisabled:!1,zoneTabIndex:0,zoneItemTabIndex:0,dropFromOthersDisabled:!1,dropTargetStyle:dr,dropTargetClasses:[],autoAriaDisabled:!1};function l(m,h,c){m.length<=1||m.splice(c,1,m.splice(h,1,m[c])[0])}function n(m){switch(m.key){case"Enter":case" ":{if((m.target.disabled!==void 0||m.target.href||m.target.isContentEditable)&&!Ot.has(m.target))return;m.preventDefault(),m.stopPropagation(),ke?ot():a(m);break}case"ArrowDown":case"ArrowRight":{if(!ke)return;m.preventDefault(),m.stopPropagation();var h=ie.get(t),c=h.items,v=Array.from(t.children),g=v.indexOf(m.currentTarget);g<v.length-1&&(r.autoAriaDisabled||Je("Moved item ".concat(Be," to position ").concat(g+2," in the list ").concat(He)),l(c,g,g+1),$e(t,c,{trigger:ce.DROPPED_INTO_ZONE,id:Re,source:pe.KEYBOARD}));break}case"ArrowUp":case"ArrowLeft":{if(!ke)return;m.preventDefault(),m.stopPropagation();var E=ie.get(t),p=E.items,y=Array.from(t.children),b=y.indexOf(m.currentTarget);b>0&&(r.autoAriaDisabled||Je("Moved item ".concat(Be," to position ").concat(b," in the list ").concat(He)),l(p,b,b-1),$e(t,p,{trigger:ce.DROPPED_INTO_ZONE,id:Re,source:pe.KEYBOARD}));break}}}function a(m){o(m.currentTarget),ue=t,Ht=r.type,ke=!0;var h=Array.from(Oe.get(r.type)).filter(function(v){return v===ue||!ie.get(v).dropFromOthersDisabled});if(_t(h,function(v){return ie.get(v).dropTargetStyle},function(v){return ie.get(v).dropTargetClasses}),!r.autoAriaDisabled){var c="Started dragging item ".concat(Be,". Use the arrow keys to move it within its list ").concat(He);h.length>1&&(c+=", or tab to another list in order to move the item into it"),Je(c)}Fe(t,ie.get(t).items,{trigger:ce.DRAG_STARTED,id:Re,source:pe.KEYBOARD}),Ql()}function i(m){ke&&m.currentTarget!==Ue&&(m.stopPropagation(),ot(!1),a(m))}function o(m){var h=ie.get(t),c=h.items,v=Array.from(t.children),g=v.indexOf(m);Ue=m,Ue.tabIndex=r.zoneItemTabIndex,Re=c[g][le],Be=v[g].getAttribute("aria-label")||""}function s(m){var h=m.items,c=h===void 0?[]:h,v=m.type,g=v===void 0?Ia:v,E=m.dragDisabled,p=E===void 0?!1:E,y=m.zoneTabIndex,b=y===void 0?0:y,k=m.zoneItemTabIndex,O=k===void 0?0:k,T=m.dropFromOthersDisabled,C=T===void 0?!1:T,S=m.dropTargetStyle,A=S===void 0?dr:S,x=m.dropTargetClasses,R=x===void 0?[]:x,V=m.autoAriaDisabled,B=V===void 0?!1:V;r.items=De(c),r.dragDisabled=p,r.dropFromOthersDisabled=C,r.zoneTabIndex=b,r.zoneItemTabIndex=O,r.dropTargetStyle=A,r.dropTargetClasses=R,r.autoAriaDisabled=B,r.type&&g!==r.type&&mr(t,r.type),r.type=g,Ta(t,g),B||(t.setAttribute("role","list"),t.setAttribute("aria-describedby",p?St.DND_ZONE_DRAG_DISABLED:St.DND_ZONE_ACTIVE)),ie.set(t,r),ke?t.tabIndex=t===ue||Ue.contains(t)||r.dropFromOthersDisabled||ue&&r.type!==ie.get(ue).type?-1:0:t.tabIndex=r.zoneTabIndex,t.addEventListener("focus",Oa);for(var F=function(W){var G=t.children[W];Ot.add(G),G.tabIndex=ke?-1:r.zoneItemTabIndex,B||G.setAttribute("role","listitem"),G.removeEventListener("keydown",cr.get(G)),G.removeEventListener("click",hr.get(G)),p||(G.addEventListener("keydown",n),cr.set(G,n),G.addEventListener("click",i),hr.set(G,i)),ke&&r.items[W][le]===Re&&(Ue=G,Ue.tabIndex=r.zoneItemTabIndex,G.focus())},H=0;H<t.children.length;H++)F(H)}s(e);var u={update:function(h){s(h)},destroy:function(){mr(t,r.type),ie.delete(t),Wt.delete(t)}};return Wt.set(t,u),u}var Ca=["items","flipDurationMs","type","dragDisabled","morphDisabled","dropFromOthersDisabled","zoneTabIndex","zoneItemTabIndex","dropTargetStyle","dropTargetClasses","transformDraggedElement","autoAriaDisabled","centreDraggedOnCursor","delayTouchStart","dropAnimationDisabled"];function Aa(t,e){if(Na(t))return{update:function(){},destroy:function(){}};vr(e);var r=ya(t,e),l=Sa(t,e);return{update:function(a){vr(a),r.update(a),l.update(a)},destroy:function(){r.destroy(),l.destroy()}}}function Na(t){return!!t.closest("[".concat(Ln,'="true"]'))}function vr(t){var e=t.items;t.flipDurationMs,t.type,t.dragDisabled,t.morphDisabled,t.dropFromOthersDisabled;var r=t.zoneTabIndex,l=t.zoneItemTabIndex;t.dropTargetStyle;var n=t.dropTargetClasses;t.transformDraggedElement,t.autoAriaDisabled,t.centreDraggedOnCursor;var a=t.delayTouchStart;t.dropAnimationDisabled;var i=En(t,Ca);if(Object.keys(i).length>0&&console.warn("dndzone will ignore unknown options",i),!e)throw new Error("no 'items' key provided to dndzone");var o=e.find(function(m){return!{}.hasOwnProperty.call(m,le)});if(o)throw new Error("missing '".concat(le,"' property for item ").concat(rt(o)));if(n&&!Array.isArray(n))throw new Error("dropTargetClasses should be an array but instead it is a ".concat(qe(n),", ").concat(rt(n)));if(r&&!_r(r))throw new Error("zoneTabIndex should be a number but instead it is a ".concat(qe(r),", ").concat(rt(r)));if(l&&!_r(l))throw new Error("zoneItemTabIndex should be a number but instead it is a ".concat(qe(l),", ").concat(rt(l)));if(a!==void 0&&a!==!1){var s=a===!0,u=typeof a=="number"&&isFinite(a)&&a>=0;if(!s&&!u)throw new Error("delayTouchStart should be a boolean (true/false) or a non-negative number but instead it is a ".concat(qe(a),", ").concat(rt(a)))}}function _r(t){return!isNaN(t)&&function(e){return(e|0)===e}(parseFloat(t))}function Ma(t){const e=t-1;return e*e*e+1}function Ra(t,{from:e,to:r},l={}){const n=getComputedStyle(t),a=n.transform==="none"?"":n.transform,[i,o]=n.transformOrigin.split(" ").map(parseFloat),s=e.left+e.width*i/r.width-(r.left+i),u=e.top+e.height*o/r.height-(r.top+o),{delay:m=0,duration:h=v=>Math.sqrt(v)*120,easing:c=Ma}=l;return{delay:m,duration:Ml(h)?h(Math.sqrt(s*s+u*u)):h,easing:c,css:(v,g)=>{const E=g*s,p=g*u,y=v+g*e.width/r.width,b=v+g*e.height/r.height;return`transform: ${a} translate(${E}px, ${p}px) scale(${y}, ${b});`}}}function gr(t){let e,r=t[0].description+"",l;return{c(){e=w("p"),l=L(r),this.h()},l(n){e=D(n,"P",{class:!0});var a=I(e);l=P(a,r),a.forEach(_),this.h()},h(){f(e,"class","text-sm text-gray-600 line-clamp-2")},m(n,a){j(n,e,a),d(e,l)},p(n,a){a&1&&r!==(r=n[0].description+"")&&z(l,r)},d(n){n&&_(e)}}}function pr(t){let e,r,l,n=t[0].media.name+"",a,i=t[0].media.logo_url&&br(t);return{c(){e=w("div"),i&&i.c(),r=M(),l=w("span"),a=L(n),this.h()},l(o){e=D(o,"DIV",{class:!0});var s=I(e);i&&i.l(s),r=N(s),l=D(s,"SPAN",{class:!0});var u=I(l);a=P(u,n),u.forEach(_),s.forEach(_),this.h()},h(){f(l,"class","text-sm text-gray-600"),f(e,"class","flex items-center gap-2")},m(o,s){j(o,e,s),i&&i.m(e,null),d(e,r),d(e,l),d(l,a)},p(o,s){o[0].media.logo_url?i?i.p(o,s):(i=br(o),i.c(),i.m(e,r)):i&&(i.d(1),i=null),s&1&&n!==(n=o[0].media.name+"")&&z(a,n)},d(o){o&&_(e),i&&i.d()}}}function br(t){let e,r,l;return{c(){e=w("img"),this.h()},l(n){e=D(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){te(e.src,r=t[0].media.logo_url)||f(e,"src",r),f(e,"alt",l=t[0].media.name),f(e,"class","w-5 h-5 rounded")},m(n,a){j(n,e,a)},p(n,a){a&1&&!te(e.src,r=n[0].media.logo_url)&&f(e,"src",r),a&1&&l!==(l=n[0].media.name)&&f(e,"alt",l)},d(n){n&&_(e)}}}function Va(t){let e,r,l=t[0].title+"",n,a,i,o,s=t[3][t[0].task_type]+"",u,m,h,c,v,g,E=t[0].language==="RU"?"ðŸ‡·ðŸ‡º RU":"ðŸ‡¬ðŸ‡§ EN",p,y,b,k,O,T,C,S,A,x,R,V="Ð’Ð·ÑÑ‚ÑŒ Ð² Ñ€Ð°Ð±Ð¾Ñ‚Ñƒ",B,F,H=t[0].description&&gr(t),U=t[0].media&&pr(t);return{c(){e=w("div"),r=w("h4"),n=L(l),a=M(),H&&H.c(),i=M(),o=w("span"),u=L(s),h=M(),U&&U.c(),c=M(),v=w("div"),g=w("span"),p=L(E),y=M(),b=w("div"),k=q("svg"),O=q("path"),T=M(),C=w("span"),S=L(t[1]),A=L(" Ð´Ð½."),x=M(),R=w("button"),R.textContent=V,this.h()},l(W){e=D(W,"DIV",{class:!0});var G=I(e);r=D(G,"H4",{class:!0});var J=I(r);n=P(J,l),J.forEach(_),a=N(G),H&&H.l(G),i=N(G),o=D(G,"SPAN",{class:!0});var Pe=I(o);u=P(Pe,s),Pe.forEach(_),h=N(G),U&&U.l(G),c=N(G),v=D(G,"DIV",{class:!0});var fe=I(v);g=D(fe,"SPAN",{class:!0});var Ve=I(g);p=P(Ve,E),Ve.forEach(_),y=N(fe),b=D(fe,"DIV",{class:!0});var he=I(b);k=Y(he,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var ze=I(k);O=Y(ze,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),I(O).forEach(_),ze.forEach(_),T=N(he),C=D(he,"SPAN",{});var me=I(C);S=P(me,t[1]),A=P(me," Ð´Ð½."),me.forEach(_),he.forEach(_),fe.forEach(_),x=N(G),R=D(G,"BUTTON",{class:!0,"data-svelte-h":!0}),K(R)!=="svelte-1so3rc1"&&(R.textContent=V),G.forEach(_),this.h()},h(){f(r,"class","font-semibold text-lg text-gray-800"),f(o,"class",m="inline-block px-2 py-1 text-xs rounded "+t[4][t[0].task_type]),f(g,"class","text-xs px-2 py-1 bg-gray-100 text-gray-600 rounded"),f(O,"stroke-linecap","round"),f(O,"stroke-linejoin","round"),f(O,"stroke-width","2"),f(O,"d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"),f(k,"class","w-4 h-4"),f(k,"fill","none"),f(k,"stroke","currentColor"),f(k,"viewBox","0 0 24 24"),re(k,"text-red-500",t[2]),f(b,"class","flex items-center gap-1 text-sm text-gray-600"),re(b,"time-badge",!0),re(b,"text-red-500",t[2]),f(v,"class","flex items-center justify-between pt-2 border-t border-gray-200"),f(R,"class","w-full py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-sm font-medium transition-colors text-white"),f(e,"class","space-y-3")},m(W,G){j(W,e,G),d(e,r),d(r,n),d(e,a),H&&H.m(e,null),d(e,i),d(e,o),d(o,u),d(e,h),U&&U.m(e,null),d(e,c),d(e,v),d(v,g),d(g,p),d(v,y),d(v,b),d(b,k),d(k,O),d(b,T),d(b,C),d(C,S),d(C,A),d(e,x),d(e,R),B||(F=Z(R,"click",ae(t[5])),B=!0)},p(W,[G]){G&1&&l!==(l=W[0].title+"")&&z(n,l),W[0].description?H?H.p(W,G):(H=gr(W),H.c(),H.m(e,i)):H&&(H.d(1),H=null),G&1&&s!==(s=W[3][W[0].task_type]+"")&&z(u,s),G&1&&m!==(m="inline-block px-2 py-1 text-xs rounded "+W[4][W[0].task_type])&&f(o,"class",m),W[0].media?U?U.p(W,G):(U=pr(W),U.c(),U.m(e,c)):U&&(U.d(1),U=null),G&1&&E!==(E=W[0].language==="RU"?"ðŸ‡·ðŸ‡º RU":"ðŸ‡¬ðŸ‡§ EN")&&z(p,E),G&4&&re(k,"text-red-500",W[2]),G&2&&z(S,W[1]),G&4&&re(b,"text-red-500",W[2])},i:X,o:X,d(W){W&&_(e),H&&H.d(),U&&U.d(),B=!1,F()}}}function Pa(t,e,r){let{task:l}=e,{daysInStage:n}=e,{isOverdue:a}=e;const i={article:"Ð¡Ñ‚Ð°Ñ‚ÑŒÑ",recommendation:"Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ðµ",cover_letter:"Ð¡Ð¾Ð¿Ñ€Ð¾Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ðµ"},o={article:"bg-blue-100 text-blue-700",recommendation:"bg-green-100 text-green-700",cover_letter:"bg-amber-100 text-amber-700"};async function s(){await Me.take(l.id)}return t.$$set=u=>{"task"in u&&r(0,l=u.task),"daysInStage"in u&&r(1,n=u.daysInStage),"isOverdue"in u&&r(2,a=u.isOverdue)},[l,n,a,i,o,s]}class La extends ye{constructor(e){super(),Ee(this,e,Pa,Va,be,{task:0,daysInStage:1,isOverdue:2})}}function yr(t){let e,r,l,n,a=t[0].author.first_name+"",i,o,s=t[0].author.last_name+"",u,m,h,c="ÐÐ²Ñ‚Ð¾Ñ€",v;function g(b,k){return b[0].author.avatar_url?Ba:xa}let E=g(t),p=E(t),y=t[0].author.telegram_username&&Er(t);return{c(){e=w("div"),p.c(),r=M(),l=w("div"),n=w("div"),i=L(a),o=M(),u=L(s),m=M(),h=w("div"),h.textContent=c,v=M(),y&&y.c(),this.h()},l(b){e=D(b,"DIV",{class:!0});var k=I(e);p.l(k),r=N(k),l=D(k,"DIV",{class:!0});var O=I(l);n=D(O,"DIV",{class:!0});var T=I(n);i=P(T,a),o=N(T),u=P(T,s),T.forEach(_),m=N(O),h=D(O,"DIV",{class:!0,"data-svelte-h":!0}),K(h)!=="svelte-1vy6t5t"&&(h.textContent=c),O.forEach(_),v=N(k),y&&y.l(k),k.forEach(_),this.h()},h(){f(n,"class","font-medium text-gray-800"),f(h,"class","text-xs text-gray-500"),f(l,"class","flex-1"),f(e,"class","flex items-center gap-3 p-2 bg-blue-50 rounded-lg")},m(b,k){j(b,e,k),p.m(e,null),d(e,r),d(e,l),d(l,n),d(n,i),d(n,o),d(n,u),d(l,m),d(l,h),d(e,v),y&&y.m(e,null)},p(b,k){E===(E=g(b))&&p?p.p(b,k):(p.d(1),p=E(b),p&&(p.c(),p.m(e,r))),k&1&&a!==(a=b[0].author.first_name+"")&&z(i,a),k&1&&s!==(s=b[0].author.last_name+"")&&z(u,s),b[0].author.telegram_username?y?y.p(b,k):(y=Er(b),y.c(),y.m(e,null)):y&&(y.d(1),y=null)},d(b){b&&_(e),p.d(),y&&y.d()}}}function xa(t){let e,r=t[0].author.first_name[0]+"",l,n=t[0].author.last_name[0]+"",a;return{c(){e=w("div"),l=L(r),a=L(n),this.h()},l(i){e=D(i,"DIV",{class:!0});var o=I(e);l=P(o,r),a=P(o,n),o.forEach(_),this.h()},h(){f(e,"class","w-10 h-10 rounded-full bg-blue-600 text-white flex items-center justify-center font-medium")},m(i,o){j(i,e,o),d(e,l),d(e,a)},p(i,o){o&1&&r!==(r=i[0].author.first_name[0]+"")&&z(l,r),o&1&&n!==(n=i[0].author.last_name[0]+"")&&z(a,n)},d(i){i&&_(e)}}}function Ba(t){let e,r;return{c(){e=w("img"),this.h()},l(l){e=D(l,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){te(e.src,r=t[0].author.avatar_url)||f(e,"src",r),f(e,"alt",""),f(e,"class","w-10 h-10 rounded-full")},m(l,n){j(l,e,n)},p(l,n){n&1&&!te(e.src,r=l[0].author.avatar_url)&&f(e,"src",r)},d(l){l&&_(e)}}}function Er(t){let e,r,l,n,a,i;return{c(){e=w("a"),r=q("svg"),l=q("path"),this.h()},l(o){e=D(o,"A",{href:!0,target:!0,class:!0});var s=I(e);r=Y(s,"svg",{class:!0,viewBox:!0,fill:!0});var u=I(r);l=Y(u,"path",{d:!0}),I(l).forEach(_),u.forEach(_),s.forEach(_),this.h()},h(){f(l,"d","M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"),f(r,"class","w-5 h-5 text-blue-500"),f(r,"viewBox","0 0 24 24"),f(r,"fill","currentColor"),f(e,"href",n="https://t.me/"+t[0].author.telegram_username),f(e,"target","_blank"),f(e,"class","p-2 hover:bg-blue-100 rounded-full transition-colors")},m(o,s){j(o,e,s),d(e,r),d(r,l),a||(i=Z(e,"click",ae(t[4])),a=!0)},p(o,s){s&1&&n!==(n="https://t.me/"+o[0].author.telegram_username)&&f(e,"href",n)},d(o){o&&_(e),a=!1,i()}}}function kr(t){let e,r,l=t[0].editor.first_name[0]+"",n,a,i,o=t[0].editor.first_name+"",s;return{c(){e=w("div"),r=w("div"),n=L(l),a=M(),i=w("span"),s=L(o),this.h()},l(u){e=D(u,"DIV",{class:!0});var m=I(e);r=D(m,"DIV",{class:!0});var h=I(r);n=P(h,l),h.forEach(_),a=N(m),i=D(m,"SPAN",{class:!0});var c=I(i);s=P(c,o),c.forEach(_),m.forEach(_),this.h()},h(){f(r,"class","w-6 h-6 rounded-full bg-purple-100 text-purple-700 flex items-center justify-center text-xs"),f(i,"class","text-xs truncate text-gray-700"),f(e,"class","flex items-center gap-2 flex-1 p-1.5 bg-purple-50 rounded")},m(u,m){j(u,e,m),d(e,r),d(r,n),d(e,a),d(e,i),d(i,s)},p(u,m){m&1&&l!==(l=u[0].editor.first_name[0]+"")&&z(n,l),m&1&&o!==(o=u[0].editor.first_name+"")&&z(s,o)},d(u){u&&_(e)}}}function Dr(t){let e,r,l=t[0].manager.first_name[0]+"",n,a,i,o=t[0].manager.first_name+"",s;return{c(){e=w("div"),r=w("div"),n=L(l),a=M(),i=w("span"),s=L(o),this.h()},l(u){e=D(u,"DIV",{class:!0});var m=I(e);r=D(m,"DIV",{class:!0});var h=I(r);n=P(h,l),h.forEach(_),a=N(m),i=D(m,"SPAN",{class:!0});var c=I(i);s=P(c,o),c.forEach(_),m.forEach(_),this.h()},h(){f(r,"class","w-6 h-6 rounded-full bg-cyan-100 text-cyan-700 flex items-center justify-center text-xs"),f(i,"class","text-xs truncate text-gray-700"),f(e,"class","flex items-center gap-2 flex-1 p-1.5 bg-cyan-50 rounded")},m(u,m){j(u,e,m),d(e,r),d(r,n),d(e,a),d(e,i),d(i,s)},p(u,m){m&1&&l!==(l=u[0].manager.first_name[0]+"")&&z(n,l),m&1&&o!==(o=u[0].manager.first_name+"")&&z(s,o)},d(u){u&&_(e)}}}function wr(t){let e,r,l,n,a,i="Google Doc",o,s,u;return{c(){e=w("a"),r=q("svg"),l=q("path"),n=M(),a=w("span"),a.textContent=i,this.h()},l(m){e=D(m,"A",{href:!0,target:!0,class:!0});var h=I(e);r=Y(h,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var c=I(r);l=Y(c,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),I(l).forEach(_),c.forEach(_),n=N(h),a=D(h,"SPAN",{"data-svelte-h":!0}),K(a)!=="svelte-o9gjkj"&&(a.textContent=i),h.forEach(_),this.h()},h(){f(l,"stroke-linecap","round"),f(l,"stroke-linejoin","round"),f(l,"stroke-width","2"),f(l,"d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"),f(r,"class","w-5 h-5 text-blue-500"),f(r,"fill","none"),f(r,"stroke","currentColor"),f(r,"viewBox","0 0 24 24"),f(e,"href",o=t[0].google_doc_url),f(e,"target","_blank"),f(e,"class","flex items-center gap-2 p-2 bg-gray-50 hover:bg-gray-100 rounded-lg text-sm transition-colors text-gray-700")},m(m,h){j(m,e,h),d(e,r),d(r,l),d(e,n),d(e,a),s||(u=Z(e,"click",ae(t[3])),s=!0)},p(m,h){h&1&&o!==(o=m[0].google_doc_url)&&f(e,"href",o)},d(m){m&&_(e),s=!1,u()}}}function ja(t){let e,r,l=t[0].title+"",n,a,i,o="Ð’ Ñ€Ð°Ð±Ð¾Ñ‚Ðµ",s,u,m,h,c,v,g,E,p,y,b,k,O,T,C=t[0].author&&yr(t),S=t[0].editor&&kr(t),A=t[0].manager&&Dr(t),x=t[0].google_doc_url&&wr(t);return{c(){e=w("div"),r=w("h4"),n=L(l),a=M(),i=w("span"),i.textContent=o,s=M(),C&&C.c(),u=M(),m=w("div"),S&&S.c(),h=M(),A&&A.c(),c=M(),x&&x.c(),v=M(),g=w("div"),E=w("div"),p=q("svg"),y=q("path"),b=M(),k=w("span"),O=L(t[1]),T=L(" Ð´Ð½."),this.h()},l(R){e=D(R,"DIV",{class:!0});var V=I(e);r=D(V,"H4",{class:!0});var B=I(r);n=P(B,l),B.forEach(_),a=N(V),i=D(V,"SPAN",{class:!0,"data-svelte-h":!0}),K(i)!=="svelte-983jol"&&(i.textContent=o),s=N(V),C&&C.l(V),u=N(V),m=D(V,"DIV",{class:!0});var F=I(m);S&&S.l(F),h=N(F),A&&A.l(F),F.forEach(_),c=N(V),x&&x.l(V),v=N(V),g=D(V,"DIV",{class:!0});var H=I(g);E=D(H,"DIV",{class:!0});var U=I(E);p=Y(U,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var W=I(p);y=Y(W,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),I(y).forEach(_),W.forEach(_),b=N(U),k=D(U,"SPAN",{});var G=I(k);O=P(G,t[1]),T=P(G," Ð´Ð½."),G.forEach(_),U.forEach(_),H.forEach(_),V.forEach(_),this.h()},h(){f(r,"class","font-semibold text-gray-800"),f(i,"class","text-xs text-gray-500"),f(m,"class","flex gap-2"),f(y,"stroke-linecap","round"),f(y,"stroke-linejoin","round"),f(y,"stroke-width","2"),f(y,"d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"),f(p,"class","w-3 h-3"),f(p,"fill","none"),f(p,"stroke","currentColor"),f(p,"viewBox","0 0 24 24"),f(E,"class","flex items-center gap-1 text-xs text-gray-500"),re(E,"text-red-500",t[2]),f(g,"class","flex justify-end"),f(e,"class","space-y-3")},m(R,V){j(R,e,V),d(e,r),d(r,n),d(e,a),d(e,i),d(e,s),C&&C.m(e,null),d(e,u),d(e,m),S&&S.m(m,null),d(m,h),A&&A.m(m,null),d(e,c),x&&x.m(e,null),d(e,v),d(e,g),d(g,E),d(E,p),d(p,y),d(E,b),d(E,k),d(k,O),d(k,T)},p(R,[V]){V&1&&l!==(l=R[0].title+"")&&z(n,l),R[0].author?C?C.p(R,V):(C=yr(R),C.c(),C.m(e,u)):C&&(C.d(1),C=null),R[0].editor?S?S.p(R,V):(S=kr(R),S.c(),S.m(m,h)):S&&(S.d(1),S=null),R[0].manager?A?A.p(R,V):(A=Dr(R),A.c(),A.m(m,null)):A&&(A.d(1),A=null),R[0].google_doc_url?x?x.p(R,V):(x=wr(R),x.c(),x.m(e,v)):x&&(x.d(1),x=null),V&2&&z(O,R[1]),V&4&&re(E,"text-red-500",R[2])},i:X,o:X,d(R){R&&_(e),C&&C.d(),S&&S.d(),A&&A.d(),x&&x.d()}}}function Fa(t,e,r){let{task:l}=e,{daysInStage:n}=e,{isOverdue:a}=e;function i(s){de.call(this,t,s)}function o(s){de.call(this,t,s)}return t.$$set=s=>{"task"in s&&r(0,l=s.task),"daysInStage"in s&&r(1,n=s.daysInStage),"isOverdue"in s&&r(2,a=s.isOverdue)},[l,n,a,i,o]}class za extends ye{constructor(e){super(),Ee(this,e,Fa,ja,be,{task:0,daysInStage:1,isOverdue:2})}}function Ir(t){let e,r,l,n=t[0].media.name+"",a,i=t[0].media.logo_url&&Tr(t);return{c(){e=w("div"),i&&i.c(),r=M(),l=w("span"),a=L(n),this.h()},l(o){e=D(o,"DIV",{class:!0});var s=I(e);i&&i.l(s),r=N(s),l=D(s,"SPAN",{});var u=I(l);a=P(u,n),u.forEach(_),s.forEach(_),this.h()},h(){f(e,"class","flex items-center gap-2 text-sm text-gray-600")},m(o,s){j(o,e,s),i&&i.m(e,null),d(e,r),d(e,l),d(l,a)},p(o,s){o[0].media.logo_url?i?i.p(o,s):(i=Tr(o),i.c(),i.m(e,r)):i&&(i.d(1),i=null),s&1&&n!==(n=o[0].media.name+"")&&z(a,n)},d(o){o&&_(e),i&&i.d()}}}function Tr(t){let e,r;return{c(){e=w("img"),this.h()},l(l){e=D(l,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){te(e.src,r=t[0].media.logo_url)||f(e,"src",r),f(e,"alt",""),f(e,"class","w-4 h-4 rounded")},m(l,n){j(l,e,n)},p(l,n){n&1&&!te(e.src,r=l[0].media.logo_url)&&f(e,"src",r)},d(l){l&&_(e)}}}function Or(t){let e,r,l,n,a=t[0].editor.first_name+"",i,o,s=t[0].editor.last_name+"",u,m,h,c="Ð ÐµÐ´Ð°ÐºÑ‚Ð¾Ñ€",v;function g(b,k){return b[0].editor.avatar_url?Ua:Ga}let E=g(t),p=E(t),y=t[0].editor.telegram_username&&Sr(t);return{c(){e=w("div"),p.c(),r=M(),l=w("div"),n=w("div"),i=L(a),o=M(),u=L(s),m=M(),h=w("div"),h.textContent=c,v=M(),y&&y.c(),this.h()},l(b){e=D(b,"DIV",{class:!0});var k=I(e);p.l(k),r=N(k),l=D(k,"DIV",{class:!0});var O=I(l);n=D(O,"DIV",{class:!0});var T=I(n);i=P(T,a),o=N(T),u=P(T,s),T.forEach(_),m=N(O),h=D(O,"DIV",{class:!0,"data-svelte-h":!0}),K(h)!=="svelte-71lqcs"&&(h.textContent=c),O.forEach(_),v=N(k),y&&y.l(k),k.forEach(_),this.h()},h(){f(n,"class","font-medium"),f(h,"class","text-xs text-purple-400"),f(l,"class","flex-1"),f(e,"class","flex items-center gap-3 p-2 bg-purple-500/10 border border-purple-500/30 rounded-lg")},m(b,k){j(b,e,k),p.m(e,null),d(e,r),d(e,l),d(l,n),d(n,i),d(n,o),d(n,u),d(l,m),d(l,h),d(e,v),y&&y.m(e,null)},p(b,k){E===(E=g(b))&&p?p.p(b,k):(p.d(1),p=E(b),p&&(p.c(),p.m(e,r))),k&1&&a!==(a=b[0].editor.first_name+"")&&z(i,a),k&1&&s!==(s=b[0].editor.last_name+"")&&z(u,s),b[0].editor.telegram_username?y?y.p(b,k):(y=Sr(b),y.c(),y.m(e,null)):y&&(y.d(1),y=null)},d(b){b&&_(e),p.d(),y&&y.d()}}}function Ga(t){let e,r=t[0].editor.first_name[0]+"",l,n=t[0].editor.last_name[0]+"",a;return{c(){e=w("div"),l=L(r),a=L(n),this.h()},l(i){e=D(i,"DIV",{class:!0});var o=I(e);l=P(o,r),a=P(o,n),o.forEach(_),this.h()},h(){f(e,"class","w-10 h-10 rounded-full bg-purple-500 flex items-center justify-center font-medium")},m(i,o){j(i,e,o),d(e,l),d(e,a)},p(i,o){o&1&&r!==(r=i[0].editor.first_name[0]+"")&&z(l,r),o&1&&n!==(n=i[0].editor.last_name[0]+"")&&z(a,n)},d(i){i&&_(e)}}}function Ua(t){let e,r;return{c(){e=w("img"),this.h()},l(l){e=D(l,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){te(e.src,r=t[0].editor.avatar_url)||f(e,"src",r),f(e,"alt",""),f(e,"class","w-10 h-10 rounded-full")},m(l,n){j(l,e,n)},p(l,n){n&1&&!te(e.src,r=l[0].editor.avatar_url)&&f(e,"src",r)},d(l){l&&_(e)}}}function Sr(t){let e,r,l,n,a,i;return{c(){e=w("a"),r=q("svg"),l=q("path"),this.h()},l(o){e=D(o,"A",{href:!0,target:!0,class:!0});var s=I(e);r=Y(s,"svg",{class:!0,viewBox:!0,fill:!0});var u=I(r);l=Y(u,"path",{d:!0}),I(l).forEach(_),u.forEach(_),s.forEach(_),this.h()},h(){f(l,"d","M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"),f(r,"class","w-5 h-5 text-blue-400"),f(r,"viewBox","0 0 24 24"),f(r,"fill","currentColor"),f(e,"href",n="https://t.me/"+t[0].editor.telegram_username),f(e,"target","_blank"),f(e,"class","p-2 hover:bg-purple-500/20 rounded-full transition-colors")},m(o,s){j(o,e,s),d(e,r),d(r,l),a||(i=Z(e,"click",ae(t[5])),a=!0)},p(o,s){s&1&&n!==(n="https://t.me/"+o[0].editor.telegram_username)&&f(e,"href",n)},d(o){o&&_(e),a=!1,i()}}}function Cr(t){let e,r,l="ÐÐ²Ñ‚Ð¾Ñ€:",n,a,i=t[0].author.first_name+"",o,s,u=t[0].author.last_name+"",m,h,c=t[0].author.telegram_username&&Ar(t);return{c(){e=w("div"),r=w("span"),r.textContent=l,n=M(),a=w("span"),o=L(i),s=M(),m=L(u),h=M(),c&&c.c(),this.h()},l(v){e=D(v,"DIV",{class:!0});var g=I(e);r=D(g,"SPAN",{class:!0,"data-svelte-h":!0}),K(r)!=="svelte-1dv9ugq"&&(r.textContent=l),n=N(g),a=D(g,"SPAN",{});var E=I(a);o=P(E,i),s=N(E),m=P(E,u),E.forEach(_),h=N(g),c&&c.l(g),g.forEach(_),this.h()},h(){f(r,"class","text-gray-500"),f(e,"class","flex items-center gap-2 text-sm")},m(v,g){j(v,e,g),d(e,r),d(e,n),d(e,a),d(a,o),d(a,s),d(a,m),d(e,h),c&&c.m(e,null)},p(v,g){g&1&&i!==(i=v[0].author.first_name+"")&&z(o,i),g&1&&u!==(u=v[0].author.last_name+"")&&z(m,u),v[0].author.telegram_username?c?c.p(v,g):(c=Ar(v),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},d(v){v&&_(e),c&&c.d()}}}function Ar(t){let e,r,l=t[0].author.telegram_username+"",n,a,i,o;return{c(){e=w("a"),r=L("@"),n=L(l),this.h()},l(s){e=D(s,"A",{href:!0,target:!0,class:!0});var u=I(e);r=P(u,"@"),n=P(u,l),u.forEach(_),this.h()},h(){f(e,"href",a="https://t.me/"+t[0].author.telegram_username),f(e,"target","_blank"),f(e,"class","text-blue-400 hover:text-blue-300")},m(s,u){j(s,e,u),d(e,r),d(e,n),i||(o=Z(e,"click",ae(t[4])),i=!0)},p(s,u){u&1&&l!==(l=s[0].author.telegram_username+"")&&z(n,l),u&1&&a!==(a="https://t.me/"+s[0].author.telegram_username)&&f(e,"href",a)},d(s){s&&_(e),i=!1,o()}}}function Nr(t){let e,r,l,n,a,i="Google Doc",o,s,u;return{c(){e=w("a"),r=q("svg"),l=q("path"),n=M(),a=w("span"),a.textContent=i,this.h()},l(m){e=D(m,"A",{href:!0,target:!0,class:!0});var h=I(e);r=Y(h,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var c=I(r);l=Y(c,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),I(l).forEach(_),c.forEach(_),n=N(h),a=D(h,"SPAN",{"data-svelte-h":!0}),K(a)!=="svelte-o9gjkj"&&(a.textContent=i),h.forEach(_),this.h()},h(){f(l,"stroke-linecap","round"),f(l,"stroke-linejoin","round"),f(l,"stroke-width","2"),f(l,"d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"),f(r,"class","w-5 h-5 text-blue-400"),f(r,"fill","none"),f(r,"stroke","currentColor"),f(r,"viewBox","0 0 24 24"),f(e,"href",o=t[0].google_doc_url),f(e,"target","_blank"),f(e,"class","flex items-center gap-2 p-2 bg-gray-200/50 hover:bg-gray-200 rounded-lg text-sm transition-colors")},m(m,h){j(m,e,h),d(e,r),d(r,l),d(e,n),d(e,a),s||(u=Z(e,"click",ae(t[3])),s=!0)},p(m,h){h&1&&o!==(o=m[0].google_doc_url)&&f(e,"href",o)},d(m){m&&_(e),s=!1,u()}}}function Ha(t){let e,r,l=t[0].title+"",n,a,i,o,s,u,m,h,c,v,g,E,p,y,b=t[0].media&&Ir(t),k=t[0].editor&&Or(t),O=t[0].author&&Cr(t),T=t[0].google_doc_url&&Nr(t);return{c(){e=w("div"),r=w("h4"),n=L(l),a=M(),b&&b.c(),i=M(),k&&k.c(),o=M(),O&&O.c(),s=M(),T&&T.c(),u=M(),m=w("div"),h=w("div"),c=q("svg"),v=q("path"),g=M(),E=w("span"),p=L(t[1]),y=L(" Ð´Ð½."),this.h()},l(C){e=D(C,"DIV",{class:!0});var S=I(e);r=D(S,"H4",{class:!0});var A=I(r);n=P(A,l),A.forEach(_),a=N(S),b&&b.l(S),i=N(S),k&&k.l(S),o=N(S),O&&O.l(S),s=N(S),T&&T.l(S),u=N(S),m=D(S,"DIV",{class:!0});var x=I(m);h=D(x,"DIV",{class:!0});var R=I(h);c=Y(R,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var V=I(c);v=Y(V,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),I(v).forEach(_),V.forEach(_),g=N(R),E=D(R,"SPAN",{});var B=I(E);p=P(B,t[1]),y=P(B," Ð´Ð½."),B.forEach(_),R.forEach(_),x.forEach(_),S.forEach(_),this.h()},h(){f(r,"class","font-semibold"),f(v,"stroke-linecap","round"),f(v,"stroke-linejoin","round"),f(v,"stroke-width","2"),f(v,"d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"),f(c,"class","w-3 h-3"),f(c,"fill","none"),f(c,"stroke","currentColor"),f(c,"viewBox","0 0 24 24"),f(h,"class","flex items-center gap-1 text-xs"),re(h,"text-red-500",t[2]),f(m,"class","flex justify-end"),f(e,"class","space-y-3")},m(C,S){j(C,e,S),d(e,r),d(r,n),d(e,a),b&&b.m(e,null),d(e,i),k&&k.m(e,null),d(e,o),O&&O.m(e,null),d(e,s),T&&T.m(e,null),d(e,u),d(e,m),d(m,h),d(h,c),d(c,v),d(h,g),d(h,E),d(E,p),d(E,y)},p(C,[S]){S&1&&l!==(l=C[0].title+"")&&z(n,l),C[0].media?b?b.p(C,S):(b=Ir(C),b.c(),b.m(e,i)):b&&(b.d(1),b=null),C[0].editor?k?k.p(C,S):(k=Or(C),k.c(),k.m(e,o)):k&&(k.d(1),k=null),C[0].author?O?O.p(C,S):(O=Cr(C),O.c(),O.m(e,s)):O&&(O.d(1),O=null),C[0].google_doc_url?T?T.p(C,S):(T=Nr(C),T.c(),T.m(e,u)):T&&(T.d(1),T=null),S&2&&z(p,C[1]),S&4&&re(h,"text-red-500",C[2])},i:X,o:X,d(C){C&&_(e),b&&b.d(),k&&k.d(),O&&O.d(),T&&T.d()}}}function Wa(t,e,r){let{task:l}=e,{daysInStage:n}=e,{isOverdue:a}=e;function i(u){de.call(this,t,u)}function o(u){de.call(this,t,u)}function s(u){de.call(this,t,u)}return t.$$set=u=>{"task"in u&&r(0,l=u.task),"daysInStage"in u&&r(1,n=u.daysInStage),"isOverdue"in u&&r(2,a=u.isOverdue)},[l,n,a,i,o,s]}class Za extends ye{constructor(e){super(),Ee(this,e,Wa,Ha,be,{task:0,daysInStage:1,isOverdue:2})}}function Mr(t){let e,r,l,n=t[0].media.name+"",a,i=t[0].media.logo_url&&Rr(t);return{c(){e=w("div"),i&&i.c(),r=M(),l=w("span"),a=L(n),this.h()},l(o){e=D(o,"DIV",{class:!0});var s=I(e);i&&i.l(s),r=N(s),l=D(s,"SPAN",{});var u=I(l);a=P(u,n),u.forEach(_),s.forEach(_),this.h()},h(){f(e,"class","flex items-center gap-2 text-sm text-gray-600")},m(o,s){j(o,e,s),i&&i.m(e,null),d(e,r),d(e,l),d(l,a)},p(o,s){o[0].media.logo_url?i?i.p(o,s):(i=Rr(o),i.c(),i.m(e,r)):i&&(i.d(1),i=null),s&1&&n!==(n=o[0].media.name+"")&&z(a,n)},d(o){o&&_(e),i&&i.d()}}}function Rr(t){let e,r;return{c(){e=w("img"),this.h()},l(l){e=D(l,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){te(e.src,r=t[0].media.logo_url)||f(e,"src",r),f(e,"alt",""),f(e,"class","w-4 h-4 rounded")},m(l,n){j(l,e,n)},p(l,n){n&1&&!te(e.src,r=l[0].media.logo_url)&&f(e,"src",r)},d(l){l&&_(e)}}}function Vr(t){let e,r,l,n,a=t[0].client.first_name+"",i,o,s=t[0].client.last_name+"",u,m,h,c="ÐšÐ»Ð¸ÐµÐ½Ñ‚",v;function g(b,k){return b[0].client.avatar_url?qa:Ya}let E=g(t),p=E(t),y=t[0].client.telegram_username&&Pr(t);return{c(){e=w("div"),p.c(),r=M(),l=w("div"),n=w("div"),i=L(a),o=M(),u=L(s),m=M(),h=w("div"),h.textContent=c,v=M(),y&&y.c(),this.h()},l(b){e=D(b,"DIV",{class:!0});var k=I(e);p.l(k),r=N(k),l=D(k,"DIV",{class:!0});var O=I(l);n=D(O,"DIV",{class:!0});var T=I(n);i=P(T,a),o=N(T),u=P(T,s),T.forEach(_),m=N(O),h=D(O,"DIV",{class:!0,"data-svelte-h":!0}),K(h)!=="svelte-102c341"&&(h.textContent=c),O.forEach(_),v=N(k),y&&y.l(k),k.forEach(_),this.h()},h(){f(n,"class","font-medium"),f(h,"class","text-xs text-amber-400"),f(l,"class","flex-1"),f(e,"class","flex items-center gap-3 p-2 bg-amber-500/10 border border-amber-500/30 rounded-lg")},m(b,k){j(b,e,k),p.m(e,null),d(e,r),d(e,l),d(l,n),d(n,i),d(n,o),d(n,u),d(l,m),d(l,h),d(e,v),y&&y.m(e,null)},p(b,k){E===(E=g(b))&&p?p.p(b,k):(p.d(1),p=E(b),p&&(p.c(),p.m(e,r))),k&1&&a!==(a=b[0].client.first_name+"")&&z(i,a),k&1&&s!==(s=b[0].client.last_name+"")&&z(u,s),b[0].client.telegram_username?y?y.p(b,k):(y=Pr(b),y.c(),y.m(e,null)):y&&(y.d(1),y=null)},d(b){b&&_(e),p.d(),y&&y.d()}}}function Ya(t){let e,r=t[0].client.first_name[0]+"",l,n=t[0].client.last_name[0]+"",a;return{c(){e=w("div"),l=L(r),a=L(n),this.h()},l(i){e=D(i,"DIV",{class:!0});var o=I(e);l=P(o,r),a=P(o,n),o.forEach(_),this.h()},h(){f(e,"class","w-10 h-10 rounded-full bg-amber-500 flex items-center justify-center font-medium text-black")},m(i,o){j(i,e,o),d(e,l),d(e,a)},p(i,o){o&1&&r!==(r=i[0].client.first_name[0]+"")&&z(l,r),o&1&&n!==(n=i[0].client.last_name[0]+"")&&z(a,n)},d(i){i&&_(e)}}}function qa(t){let e,r;return{c(){e=w("img"),this.h()},l(l){e=D(l,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){te(e.src,r=t[0].client.avatar_url)||f(e,"src",r),f(e,"alt",""),f(e,"class","w-10 h-10 rounded-full")},m(l,n){j(l,e,n)},p(l,n){n&1&&!te(e.src,r=l[0].client.avatar_url)&&f(e,"src",r)},d(l){l&&_(e)}}}function Pr(t){let e,r,l,n,a,i;return{c(){e=w("a"),r=q("svg"),l=q("path"),this.h()},l(o){e=D(o,"A",{href:!0,target:!0,class:!0});var s=I(e);r=Y(s,"svg",{class:!0,viewBox:!0,fill:!0});var u=I(r);l=Y(u,"path",{d:!0}),I(l).forEach(_),u.forEach(_),s.forEach(_),this.h()},h(){f(l,"d","M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"),f(r,"class","w-5 h-5 text-blue-400"),f(r,"viewBox","0 0 24 24"),f(r,"fill","currentColor"),f(e,"href",n="https://t.me/"+t[0].client.telegram_username),f(e,"target","_blank"),f(e,"class","p-2 hover:bg-amber-500/20 rounded-full transition-colors")},m(o,s){j(o,e,s),d(e,r),d(r,l),a||(i=Z(e,"click",ae(t[4])),a=!0)},p(o,s){s&1&&n!==(n="https://t.me/"+o[0].client.telegram_username)&&f(e,"href",n)},d(o){o&&_(e),a=!1,i()}}}function Lr(t){let e,r=t[0].description+"",l;return{c(){e=w("p"),l=L(r),this.h()},l(n){e=D(n,"P",{class:!0});var a=I(e);l=P(a,r),a.forEach(_),this.h()},h(){f(e,"class","text-sm text-gray-600 line-clamp-2")},m(n,a){j(n,e,a),d(e,l)},p(n,a){a&1&&r!==(r=n[0].description+"")&&z(l,r)},d(n){n&&_(e)}}}function xr(t){let e,r,l=t[0].author.first_name+"",n,a,i=t[0].author.last_name+"",o;return{c(){e=w("div"),r=L("ÐÐ²Ñ‚Ð¾Ñ€: "),n=L(l),a=M(),o=L(i),this.h()},l(s){e=D(s,"DIV",{class:!0});var u=I(e);r=P(u,"ÐÐ²Ñ‚Ð¾Ñ€: "),n=P(u,l),a=N(u),o=P(u,i),u.forEach(_),this.h()},h(){f(e,"class","text-sm text-gray-500")},m(s,u){j(s,e,u),d(e,r),d(e,n),d(e,a),d(e,o)},p(s,u){u&1&&l!==(l=s[0].author.first_name+"")&&z(n,l),u&1&&i!==(i=s[0].author.last_name+"")&&z(o,i)},d(s){s&&_(e)}}}function Br(t){let e,r,l,n,a,i="Google Doc",o,s,u;return{c(){e=w("a"),r=q("svg"),l=q("path"),n=M(),a=w("span"),a.textContent=i,this.h()},l(m){e=D(m,"A",{href:!0,target:!0,class:!0});var h=I(e);r=Y(h,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var c=I(r);l=Y(c,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),I(l).forEach(_),c.forEach(_),n=N(h),a=D(h,"SPAN",{"data-svelte-h":!0}),K(a)!=="svelte-o9gjkj"&&(a.textContent=i),h.forEach(_),this.h()},h(){f(l,"stroke-linecap","round"),f(l,"stroke-linejoin","round"),f(l,"stroke-width","2"),f(l,"d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"),f(r,"class","w-5 h-5 text-blue-400"),f(r,"fill","none"),f(r,"stroke","currentColor"),f(r,"viewBox","0 0 24 24"),f(e,"href",o=t[0].google_doc_url),f(e,"target","_blank"),f(e,"class","flex items-center gap-2 p-2 bg-gray-200/50 hover:bg-gray-200 rounded-lg text-sm transition-colors")},m(m,h){j(m,e,h),d(e,r),d(r,l),d(e,n),d(e,a),s||(u=Z(e,"click",ae(t[3])),s=!0)},p(m,h){h&1&&o!==(o=m[0].google_doc_url)&&f(e,"href",o)},d(m){m&&_(e),s=!1,u()}}}function Ka(t){let e,r,l=t[0].title+"",n,a,i,o,s,u,m,h,c,v,g,E,p,y,b,k=t[0].media&&Mr(t),O=t[0].client&&Vr(t),T=t[0].description&&Lr(t),C=t[0].author&&xr(t),S=t[0].google_doc_url&&Br(t);return{c(){e=w("div"),r=w("h4"),n=L(l),a=M(),k&&k.c(),i=M(),O&&O.c(),o=M(),T&&T.c(),s=M(),C&&C.c(),u=M(),S&&S.c(),m=M(),h=w("div"),c=w("div"),v=q("svg"),g=q("path"),E=M(),p=w("span"),y=L(t[1]),b=L(" Ð´Ð½."),this.h()},l(A){e=D(A,"DIV",{class:!0});var x=I(e);r=D(x,"H4",{class:!0});var R=I(r);n=P(R,l),R.forEach(_),a=N(x),k&&k.l(x),i=N(x),O&&O.l(x),o=N(x),T&&T.l(x),s=N(x),C&&C.l(x),u=N(x),S&&S.l(x),m=N(x),h=D(x,"DIV",{class:!0});var V=I(h);c=D(V,"DIV",{class:!0});var B=I(c);v=Y(B,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var F=I(v);g=Y(F,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),I(g).forEach(_),F.forEach(_),E=N(B),p=D(B,"SPAN",{});var H=I(p);y=P(H,t[1]),b=P(H," Ð´Ð½."),H.forEach(_),B.forEach(_),V.forEach(_),x.forEach(_),this.h()},h(){f(r,"class","font-semibold"),f(g,"stroke-linecap","round"),f(g,"stroke-linejoin","round"),f(g,"stroke-width","2"),f(g,"d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"),f(v,"class","w-3 h-3"),f(v,"fill","none"),f(v,"stroke","currentColor"),f(v,"viewBox","0 0 24 24"),f(c,"class","flex items-center gap-1 text-xs"),re(c,"text-red-500",t[2]),f(h,"class","flex justify-end"),f(e,"class","space-y-3")},m(A,x){j(A,e,x),d(e,r),d(r,n),d(e,a),k&&k.m(e,null),d(e,i),O&&O.m(e,null),d(e,o),T&&T.m(e,null),d(e,s),C&&C.m(e,null),d(e,u),S&&S.m(e,null),d(e,m),d(e,h),d(h,c),d(c,v),d(v,g),d(c,E),d(c,p),d(p,y),d(p,b)},p(A,[x]){x&1&&l!==(l=A[0].title+"")&&z(n,l),A[0].media?k?k.p(A,x):(k=Mr(A),k.c(),k.m(e,i)):k&&(k.d(1),k=null),A[0].client?O?O.p(A,x):(O=Vr(A),O.c(),O.m(e,o)):O&&(O.d(1),O=null),A[0].description?T?T.p(A,x):(T=Lr(A),T.c(),T.m(e,s)):T&&(T.d(1),T=null),A[0].author?C?C.p(A,x):(C=xr(A),C.c(),C.m(e,u)):C&&(C.d(1),C=null),A[0].google_doc_url?S?S.p(A,x):(S=Br(A),S.c(),S.m(e,m)):S&&(S.d(1),S=null),x&2&&z(y,A[1]),x&4&&re(c,"text-red-500",A[2])},i:X,o:X,d(A){A&&_(e),k&&k.d(),O&&O.d(),T&&T.d(),C&&C.d(),S&&S.d()}}}function Xa(t,e,r){let{task:l}=e,{daysInStage:n}=e,{isOverdue:a}=e;function i(s){de.call(this,t,s)}function o(s){de.call(this,t,s)}return t.$$set=s=>{"task"in s&&r(0,l=s.task),"daysInStage"in s&&r(1,n=s.daysInStage),"isOverdue"in s&&r(2,a=s.isOverdue)},[l,n,a,i,o]}class Ja extends ye{constructor(e){super(),Ee(this,e,Xa,Ka,be,{task:0,daysInStage:1,isOverdue:2})}}function jr(t){let e,r,l,n,a,i=t[0].media.name+"",o,s;function u(v,g){return v[0].media.logo_url?$a:Qa}let m=u(t),h=m(t),c=t[0].media.website_url&&Fr(t);return{c(){e=w("div"),r=w("div"),h.c(),l=M(),n=w("div"),a=w("div"),o=L(i),s=M(),c&&c.c(),this.h()},l(v){e=D(v,"DIV",{class:!0});var g=I(e);r=D(g,"DIV",{class:!0});var E=I(r);h.l(E),l=N(E),n=D(E,"DIV",{class:!0});var p=I(n);a=D(p,"DIV",{class:!0});var y=I(a);o=P(y,i),y.forEach(_),s=N(p),c&&c.l(p),p.forEach(_),E.forEach(_),g.forEach(_),this.h()},h(){f(a,"class","font-medium"),f(n,"class","flex-1"),f(r,"class","flex items-center gap-3"),f(e,"class","p-3 bg-green-500/10 border border-green-500/30 rounded-lg")},m(v,g){j(v,e,g),d(e,r),h.m(r,null),d(r,l),d(r,n),d(n,a),d(a,o),d(n,s),c&&c.m(n,null)},p(v,g){m===(m=u(v))&&h?h.p(v,g):(h.d(1),h=m(v),h&&(h.c(),h.m(r,l))),g&1&&i!==(i=v[0].media.name+"")&&z(o,i),v[0].media.website_url?c?c.p(v,g):(c=Fr(v),c.c(),c.m(n,null)):c&&(c.d(1),c=null)},d(v){v&&_(e),h.d(),c&&c.d()}}}function Qa(t){let e,r='<svg class="w-6 h-6 text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"></path></svg>';return{c(){e=w("div"),e.innerHTML=r,this.h()},l(l){e=D(l,"DIV",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-29xq5f"&&(e.innerHTML=r),this.h()},h(){f(e,"class","w-12 h-12 rounded-lg bg-green-500/30 flex items-center justify-center")},m(l,n){j(l,e,n)},p:X,d(l){l&&_(e)}}}function $a(t){let e,r;return{c(){e=w("img"),this.h()},l(l){e=D(l,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){te(e.src,r=t[0].media.logo_url)||f(e,"src",r),f(e,"alt",""),f(e,"class","w-12 h-12 rounded-lg object-cover")},m(l,n){j(l,e,n)},p(l,n){n&1&&!te(e.src,r=l[0].media.logo_url)&&f(e,"src",r)},d(l){l&&_(e)}}}function Fr(t){let e,r=t[0].media.website_url+"",l,n,a,i;return{c(){e=w("a"),l=L(r),this.h()},l(o){e=D(o,"A",{href:!0,target:!0,class:!0});var s=I(e);l=P(s,r),s.forEach(_),this.h()},h(){f(e,"href",n=t[0].media.website_url),f(e,"target","_blank"),f(e,"class","text-xs text-green-400 hover:text-green-300")},m(o,s){j(o,e,s),d(e,l),a||(i=Z(e,"click",ae(t[5])),a=!0)},p(o,s){s&1&&r!==(r=o[0].media.website_url+"")&&z(l,r),s&1&&n!==(n=o[0].media.website_url)&&f(e,"href",n)},d(o){o&&_(e),a=!1,i()}}}function zr(t){let e,r,l="ÐÐ²Ñ‚Ð¾Ñ€:",n,a,i=t[0].author.first_name+"",o,s,u=t[0].author.last_name+"",m,h,c=t[0].author.telegram_username&&Gr(t);return{c(){e=w("div"),r=w("span"),r.textContent=l,n=M(),a=w("span"),o=L(i),s=M(),m=L(u),h=M(),c&&c.c(),this.h()},l(v){e=D(v,"DIV",{class:!0});var g=I(e);r=D(g,"SPAN",{class:!0,"data-svelte-h":!0}),K(r)!=="svelte-1dv9ugq"&&(r.textContent=l),n=N(g),a=D(g,"SPAN",{});var E=I(a);o=P(E,i),s=N(E),m=P(E,u),E.forEach(_),h=N(g),c&&c.l(g),g.forEach(_),this.h()},h(){f(r,"class","text-gray-500"),f(e,"class","flex items-center gap-2 text-sm")},m(v,g){j(v,e,g),d(e,r),d(e,n),d(e,a),d(a,o),d(a,s),d(a,m),d(e,h),c&&c.m(e,null)},p(v,g){g&1&&i!==(i=v[0].author.first_name+"")&&z(o,i),g&1&&u!==(u=v[0].author.last_name+"")&&z(m,u),v[0].author.telegram_username?c?c.p(v,g):(c=Gr(v),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},d(v){v&&_(e),c&&c.d()}}}function Gr(t){let e,r,l,n,a;return{c(){e=w("a"),r=L("TG"),this.h()},l(i){e=D(i,"A",{href:!0,target:!0,class:!0});var o=I(e);r=P(o,"TG"),o.forEach(_),this.h()},h(){f(e,"href",l="https://t.me/"+t[0].author.telegram_username),f(e,"target","_blank"),f(e,"class","text-blue-400 hover:text-blue-300 text-xs")},m(i,o){j(i,e,o),d(e,r),n||(a=Z(e,"click",ae(t[4])),n=!0)},p(i,o){o&1&&l!==(l="https://t.me/"+i[0].author.telegram_username)&&f(e,"href",l)},d(i){i&&_(e),n=!1,a()}}}function Ur(t){let e,r,l,n,a,i="Ð¤Ð¸Ð½Ð°Ð»ÑŒÐ½Ð°Ñ Ð²ÐµÑ€ÑÐ¸Ñ",o,s,u;return{c(){e=w("a"),r=q("svg"),l=q("path"),n=M(),a=w("span"),a.textContent=i,this.h()},l(m){e=D(m,"A",{href:!0,target:!0,class:!0});var h=I(e);r=Y(h,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var c=I(r);l=Y(c,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),I(l).forEach(_),c.forEach(_),n=N(h),a=D(h,"SPAN",{"data-svelte-h":!0}),K(a)!=="svelte-elz43t"&&(a.textContent=i),h.forEach(_),this.h()},h(){f(l,"stroke-linecap","round"),f(l,"stroke-linejoin","round"),f(l,"stroke-width","2"),f(l,"d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"),f(r,"class","w-5 h-5 text-blue-400"),f(r,"fill","none"),f(r,"stroke","currentColor"),f(r,"viewBox","0 0 24 24"),f(e,"href",o=t[0].google_doc_url),f(e,"target","_blank"),f(e,"class","flex items-center gap-2 p-2 bg-gray-200/50 hover:bg-gray-200 rounded-lg text-sm transition-colors")},m(m,h){j(m,e,h),d(e,r),d(r,l),d(e,n),d(e,a),s||(u=Z(e,"click",ae(t[3])),s=!0)},p(m,h){h&1&&o!==(o=m[0].google_doc_url)&&f(e,"href",o)},d(m){m&&_(e),s=!1,u()}}}function ei(t){let e,r,l=t[0].title+"",n,a,i,o,s,u,m,h,c,v,g,E,p,y=t[0].media&&jr(t),b=t[0].author&&zr(t),k=t[0].google_doc_url&&Ur(t);return{c(){e=w("div"),r=w("h4"),n=L(l),a=M(),y&&y.c(),i=M(),b&&b.c(),o=M(),k&&k.c(),s=M(),u=w("div"),m=w("div"),h=q("svg"),c=q("path"),v=M(),g=w("span"),E=L(t[1]),p=L(" Ð´Ð½."),this.h()},l(O){e=D(O,"DIV",{class:!0});var T=I(e);r=D(T,"H4",{class:!0});var C=I(r);n=P(C,l),C.forEach(_),a=N(T),y&&y.l(T),i=N(T),b&&b.l(T),o=N(T),k&&k.l(T),s=N(T),u=D(T,"DIV",{class:!0});var S=I(u);m=D(S,"DIV",{class:!0});var A=I(m);h=Y(A,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var x=I(h);c=Y(x,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),I(c).forEach(_),x.forEach(_),v=N(A),g=D(A,"SPAN",{});var R=I(g);E=P(R,t[1]),p=P(R," Ð´Ð½."),R.forEach(_),A.forEach(_),S.forEach(_),T.forEach(_),this.h()},h(){f(r,"class","font-semibold"),f(c,"stroke-linecap","round"),f(c,"stroke-linejoin","round"),f(c,"stroke-width","2"),f(c,"d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"),f(h,"class","w-3 h-3"),f(h,"fill","none"),f(h,"stroke","currentColor"),f(h,"viewBox","0 0 24 24"),f(m,"class","flex items-center gap-1 text-xs"),re(m,"text-red-500",t[2]),f(u,"class","flex justify-end"),f(e,"class","space-y-3")},m(O,T){j(O,e,T),d(e,r),d(r,n),d(e,a),y&&y.m(e,null),d(e,i),b&&b.m(e,null),d(e,o),k&&k.m(e,null),d(e,s),d(e,u),d(u,m),d(m,h),d(h,c),d(m,v),d(m,g),d(g,E),d(g,p)},p(O,[T]){T&1&&l!==(l=O[0].title+"")&&z(n,l),O[0].media?y?y.p(O,T):(y=jr(O),y.c(),y.m(e,i)):y&&(y.d(1),y=null),O[0].author?b?b.p(O,T):(b=zr(O),b.c(),b.m(e,o)):b&&(b.d(1),b=null),O[0].google_doc_url?k?k.p(O,T):(k=Ur(O),k.c(),k.m(e,s)):k&&(k.d(1),k=null),T&2&&z(E,O[1]),T&4&&re(m,"text-red-500",O[2])},i:X,o:X,d(O){O&&_(e),y&&y.d(),b&&b.d(),k&&k.d()}}}function ti(t,e,r){let{task:l}=e,{daysInStage:n}=e,{isOverdue:a}=e;function i(u){de.call(this,t,u)}function o(u){de.call(this,t,u)}function s(u){de.call(this,t,u)}return t.$$set=u=>{"task"in u&&r(0,l=u.task),"daysInStage"in u&&r(1,n=u.daysInStage),"isOverdue"in u&&r(2,a=u.isOverdue)},[l,n,a,i,o,s]}class ri extends ye{constructor(e){super(),Ee(this,e,ti,ei,be,{task:0,daysInStage:1,isOverdue:2})}}function Hr(t){let e,r,l,n,a=t[0].media.name+"",i,o,s=t[0].media.logo_url&&Wr(t),u=t[0].media.website_url&&Zr(t);return{c(){e=w("div"),s&&s.c(),r=M(),l=w("div"),n=w("div"),i=L(a),o=M(),u&&u.c(),this.h()},l(m){e=D(m,"DIV",{class:!0});var h=I(e);s&&s.l(h),r=N(h),l=D(h,"DIV",{});var c=I(l);n=D(c,"DIV",{class:!0});var v=I(n);i=P(v,a),v.forEach(_),o=N(c),u&&u.l(c),c.forEach(_),h.forEach(_),this.h()},h(){f(n,"class","font-medium"),f(e,"class","flex items-center gap-2")},m(m,h){j(m,e,h),s&&s.m(e,null),d(e,r),d(e,l),d(l,n),d(n,i),d(l,o),u&&u.m(l,null)},p(m,h){m[0].media.logo_url?s?s.p(m,h):(s=Wr(m),s.c(),s.m(e,r)):s&&(s.d(1),s=null),h&1&&a!==(a=m[0].media.name+"")&&z(i,a),m[0].media.website_url?u?u.p(m,h):(u=Zr(m),u.c(),u.m(l,null)):u&&(u.d(1),u=null)},d(m){m&&_(e),s&&s.d(),u&&u.d()}}}function Wr(t){let e,r;return{c(){e=w("img"),this.h()},l(l){e=D(l,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){te(e.src,r=t[0].media.logo_url)||f(e,"src",r),f(e,"alt",""),f(e,"class","w-8 h-8 rounded")},m(l,n){j(l,e,n)},p(l,n){n&1&&!te(e.src,r=l[0].media.logo_url)&&f(e,"src",r)},d(l){l&&_(e)}}}function Zr(t){let e,r,l,n,a;return{c(){e=w("a"),r=L("Ð¡Ð°Ð¹Ñ‚"),this.h()},l(i){e=D(i,"A",{href:!0,target:!0,class:!0});var o=I(e);r=P(o,"Ð¡Ð°Ð¹Ñ‚"),o.forEach(_),this.h()},h(){f(e,"href",l=t[0].media.website_url),f(e,"target","_blank"),f(e,"class","text-xs text-blue-400")},m(i,o){j(i,e,o),d(e,r),n||(a=Z(e,"click",ae(t[4])),n=!0)},p(i,o){o&1&&l!==(l=i[0].media.website_url)&&f(e,"href",l)},d(i){i&&_(e),n=!1,a()}}}function Yr(t){let e,r,l,n,a=t[0].manager.first_name+"",i,o,s=t[0].manager.last_name+"",u,m,h,c="ÐœÐµÐ½ÐµÐ´Ð¶ÐµÑ€",v;function g(b,k){return b[0].manager.avatar_url?ni:li}let E=g(t),p=E(t),y=t[0].manager.telegram_username&&qr(t);return{c(){e=w("div"),p.c(),r=M(),l=w("div"),n=w("div"),i=L(a),o=M(),u=L(s),m=M(),h=w("div"),h.textContent=c,v=M(),y&&y.c(),this.h()},l(b){e=D(b,"DIV",{class:!0});var k=I(e);p.l(k),r=N(k),l=D(k,"DIV",{class:!0});var O=I(l);n=D(O,"DIV",{class:!0});var T=I(n);i=P(T,a),o=N(T),u=P(T,s),T.forEach(_),m=N(O),h=D(O,"DIV",{class:!0,"data-svelte-h":!0}),K(h)!=="svelte-64lpu2"&&(h.textContent=c),O.forEach(_),v=N(k),y&&y.l(k),k.forEach(_),this.h()},h(){f(n,"class","font-medium"),f(h,"class","text-xs text-cyan-400"),f(l,"class","flex-1"),f(e,"class","flex items-center gap-3 p-2 bg-cyan-500/10 border border-cyan-500/30 rounded-lg")},m(b,k){j(b,e,k),p.m(e,null),d(e,r),d(e,l),d(l,n),d(n,i),d(n,o),d(n,u),d(l,m),d(l,h),d(e,v),y&&y.m(e,null)},p(b,k){E===(E=g(b))&&p?p.p(b,k):(p.d(1),p=E(b),p&&(p.c(),p.m(e,r))),k&1&&a!==(a=b[0].manager.first_name+"")&&z(i,a),k&1&&s!==(s=b[0].manager.last_name+"")&&z(u,s),b[0].manager.telegram_username?y?y.p(b,k):(y=qr(b),y.c(),y.m(e,null)):y&&(y.d(1),y=null)},d(b){b&&_(e),p.d(),y&&y.d()}}}function li(t){let e,r=t[0].manager.first_name[0]+"",l,n=t[0].manager.last_name[0]+"",a;return{c(){e=w("div"),l=L(r),a=L(n),this.h()},l(i){e=D(i,"DIV",{class:!0});var o=I(e);l=P(o,r),a=P(o,n),o.forEach(_),this.h()},h(){f(e,"class","w-10 h-10 rounded-full bg-cyan-500 flex items-center justify-center font-medium text-black")},m(i,o){j(i,e,o),d(e,l),d(e,a)},p(i,o){o&1&&r!==(r=i[0].manager.first_name[0]+"")&&z(l,r),o&1&&n!==(n=i[0].manager.last_name[0]+"")&&z(a,n)},d(i){i&&_(e)}}}function ni(t){let e,r;return{c(){e=w("img"),this.h()},l(l){e=D(l,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){te(e.src,r=t[0].manager.avatar_url)||f(e,"src",r),f(e,"alt",""),f(e,"class","w-10 h-10 rounded-full")},m(l,n){j(l,e,n)},p(l,n){n&1&&!te(e.src,r=l[0].manager.avatar_url)&&f(e,"src",r)},d(l){l&&_(e)}}}function qr(t){let e,r,l,n,a,i;return{c(){e=w("a"),r=q("svg"),l=q("path"),this.h()},l(o){e=D(o,"A",{href:!0,target:!0,class:!0});var s=I(e);r=Y(s,"svg",{class:!0,viewBox:!0,fill:!0});var u=I(r);l=Y(u,"path",{d:!0}),I(l).forEach(_),u.forEach(_),s.forEach(_),this.h()},h(){f(l,"d","M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"),f(r,"class","w-5 h-5 text-blue-400"),f(r,"viewBox","0 0 24 24"),f(r,"fill","currentColor"),f(e,"href",n="https://t.me/"+t[0].manager.telegram_username),f(e,"target","_blank"),f(e,"class","p-2 hover:bg-cyan-500/20 rounded-full transition-colors")},m(o,s){j(o,e,s),d(e,r),d(r,l),a||(i=Z(e,"click",ae(t[3])),a=!0)},p(o,s){s&1&&n!==(n="https://t.me/"+o[0].manager.telegram_username)&&f(e,"href",n)},d(o){o&&_(e),a=!1,i()}}}function Kr(t){let e,r,l=t[0].sent_to_whom&&Xr(t),n=t[0].sent_method&&Jr(t);return{c(){e=w("div"),l&&l.c(),r=M(),n&&n.c(),this.h()},l(a){e=D(a,"DIV",{class:!0});var i=I(e);l&&l.l(i),r=N(i),n&&n.l(i),i.forEach(_),this.h()},h(){f(e,"class","text-sm text-gray-600 space-y-1")},m(a,i){j(a,e,i),l&&l.m(e,null),d(e,r),n&&n.m(e,null)},p(a,i){a[0].sent_to_whom?l?l.p(a,i):(l=Xr(a),l.c(),l.m(e,r)):l&&(l.d(1),l=null),a[0].sent_method?n?n.p(a,i):(n=Jr(a),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},d(a){a&&_(e),l&&l.d(),n&&n.d()}}}function Xr(t){let e,r,l=t[0].sent_to_whom+"",n;return{c(){e=w("div"),r=L("ÐšÐ¾Ð¼Ñƒ: "),n=L(l)},l(a){e=D(a,"DIV",{});var i=I(e);r=P(i,"ÐšÐ¾Ð¼Ñƒ: "),n=P(i,l),i.forEach(_)},m(a,i){j(a,e,i),d(e,r),d(e,n)},p(a,i){i&1&&l!==(l=a[0].sent_to_whom+"")&&z(n,l)},d(a){a&&_(e)}}}function Jr(t){let e,r,l=t[0].sent_method+"",n;return{c(){e=w("div"),r=L("Ð¡Ð¿Ð¾ÑÐ¾Ð±: "),n=L(l)},l(a){e=D(a,"DIV",{});var i=I(e);r=P(i,"Ð¡Ð¿Ð¾ÑÐ¾Ð±: "),n=P(i,l),i.forEach(_)},m(a,i){j(a,e,i),d(e,r),d(e,n)},p(a,i){i&1&&l!==(l=a[0].sent_method+"")&&z(n,l)},d(a){a&&_(e)}}}function Qr(t){let e,r,l=t[0].author.first_name+"",n,a,i=t[0].author.last_name+"",o;return{c(){e=w("div"),r=L("ÐÐ²Ñ‚Ð¾Ñ€: "),n=L(l),a=M(),o=L(i),this.h()},l(s){e=D(s,"DIV",{class:!0});var u=I(e);r=P(u,"ÐÐ²Ñ‚Ð¾Ñ€: "),n=P(u,l),a=N(u),o=P(u,i),u.forEach(_),this.h()},h(){f(e,"class","text-sm text-gray-500")},m(s,u){j(s,e,u),d(e,r),d(e,n),d(e,a),d(e,o)},p(s,u){u&1&&l!==(l=s[0].author.first_name+"")&&z(n,l),u&1&&i!==(i=s[0].author.last_name+"")&&z(o,i)},d(s){s&&_(e)}}}function ai(t){let e,r,l=t[0].title+"",n,a,i,o,s,u,m,h,c="Ð’ Ñ€ÐµÐ´Ð°ÐºÑ†Ð¸Ð¸:",v,g,E,p,y,b,k,O,T=t[0].media&&Hr(t),C=t[0].manager&&Yr(t),S=(t[0].sent_to_whom||t[0].sent_method)&&Kr(t),A=t[0].author&&Qr(t);return{c(){e=w("div"),r=w("h4"),n=L(l),a=M(),T&&T.c(),i=M(),C&&C.c(),o=M(),S&&S.c(),s=M(),A&&A.c(),u=M(),m=w("div"),h=w("span"),h.textContent=c,v=M(),g=w("div"),E=q("svg"),p=q("path"),y=M(),b=w("span"),k=L(t[1]),O=L(" Ð´Ð½."),this.h()},l(x){e=D(x,"DIV",{class:!0});var R=I(e);r=D(R,"H4",{class:!0});var V=I(r);n=P(V,l),V.forEach(_),a=N(R),T&&T.l(R),i=N(R),C&&C.l(R),o=N(R),S&&S.l(R),s=N(R),A&&A.l(R),u=N(R),m=D(R,"DIV",{class:!0});var B=I(m);h=D(B,"SPAN",{class:!0,"data-svelte-h":!0}),K(h)!=="svelte-1l2dp29"&&(h.textContent=c),v=N(B),g=D(B,"DIV",{class:!0});var F=I(g);E=Y(F,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var H=I(E);p=Y(H,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),I(p).forEach(_),H.forEach(_),y=N(F),b=D(F,"SPAN",{});var U=I(b);k=P(U,t[1]),O=P(U," Ð´Ð½."),U.forEach(_),F.forEach(_),B.forEach(_),R.forEach(_),this.h()},h(){f(r,"class","font-semibold"),f(h,"class","text-gray-500"),f(p,"stroke-linecap","round"),f(p,"stroke-linejoin","round"),f(p,"stroke-width","2"),f(p,"d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"),f(E,"class","w-3 h-3"),f(E,"fill","none"),f(E,"stroke","currentColor"),f(E,"viewBox","0 0 24 24"),f(g,"class","flex items-center gap-1"),re(g,"text-red-500",t[2]),f(m,"class","flex justify-between items-center text-sm"),f(e,"class","space-y-3")},m(x,R){j(x,e,R),d(e,r),d(r,n),d(e,a),T&&T.m(e,null),d(e,i),C&&C.m(e,null),d(e,o),S&&S.m(e,null),d(e,s),A&&A.m(e,null),d(e,u),d(e,m),d(m,h),d(m,v),d(m,g),d(g,E),d(E,p),d(g,y),d(g,b),d(b,k),d(b,O)},p(x,[R]){R&1&&l!==(l=x[0].title+"")&&z(n,l),x[0].media?T?T.p(x,R):(T=Hr(x),T.c(),T.m(e,i)):T&&(T.d(1),T=null),x[0].manager?C?C.p(x,R):(C=Yr(x),C.c(),C.m(e,o)):C&&(C.d(1),C=null),x[0].sent_to_whom||x[0].sent_method?S?S.p(x,R):(S=Kr(x),S.c(),S.m(e,s)):S&&(S.d(1),S=null),x[0].author?A?A.p(x,R):(A=Qr(x),A.c(),A.m(e,u)):A&&(A.d(1),A=null),R&2&&z(k,x[1]),R&4&&re(g,"text-red-500",x[2])},i:X,o:X,d(x){x&&_(e),T&&T.d(),C&&C.d(),S&&S.d(),A&&A.d()}}}function ii(t,e,r){let{task:l}=e,{daysInStage:n}=e,{isOverdue:a}=e;function i(s){de.call(this,t,s)}function o(s){de.call(this,t,s)}return t.$$set=s=>{"task"in s&&r(0,l=s.task),"daysInStage"in s&&r(1,n=s.daysInStage),"isOverdue"in s&&r(2,a=s.isOverdue)},[l,n,a,i,o]}class si extends ye{constructor(e){super(),Ee(this,e,ii,ai,be,{task:0,daysInStage:1,isOverdue:2})}}function $r(t){let e,r,l,n,a,i=t[0].media.name+"",o,s,u,m=t[0].media.logo_url&&el(t),h=t[0].publication_date&&tl(t),c=t[0].publication_url&&rl(t);return{c(){e=w("div"),r=w("div"),m&&m.c(),l=M(),n=w("div"),a=w("div"),o=L(i),s=M(),h&&h.c(),u=M(),c&&c.c(),this.h()},l(v){e=D(v,"DIV",{class:!0});var g=I(e);r=D(g,"DIV",{class:!0});var E=I(r);m&&m.l(E),l=N(E),n=D(E,"DIV",{class:!0});var p=I(n);a=D(p,"DIV",{class:!0});var y=I(a);o=P(y,i),y.forEach(_),s=N(p),h&&h.l(p),p.forEach(_),E.forEach(_),u=N(g),c&&c.l(g),g.forEach(_),this.h()},h(){f(a,"class","font-medium"),f(n,"class","flex-1"),f(r,"class","flex items-center gap-3"),f(e,"class","p-3 bg-emerald-500/10 border border-emerald-500/30 rounded-lg")},m(v,g){j(v,e,g),d(e,r),m&&m.m(r,null),d(r,l),d(r,n),d(n,a),d(a,o),d(n,s),h&&h.m(n,null),d(e,u),c&&c.m(e,null)},p(v,g){v[0].media.logo_url?m?m.p(v,g):(m=el(v),m.c(),m.m(r,l)):m&&(m.d(1),m=null),g&1&&i!==(i=v[0].media.name+"")&&z(o,i),v[0].publication_date?h?h.p(v,g):(h=tl(v),h.c(),h.m(n,null)):h&&(h.d(1),h=null),v[0].publication_url?c?c.p(v,g):(c=rl(v),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},d(v){v&&_(e),m&&m.d(),h&&h.d(),c&&c.d()}}}function el(t){let e,r;return{c(){e=w("img"),this.h()},l(l){e=D(l,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){te(e.src,r=t[0].media.logo_url)||f(e,"src",r),f(e,"alt",""),f(e,"class","w-10 h-10 rounded-lg object-cover")},m(l,n){j(l,e,n)},p(l,n){n&1&&!te(e.src,r=l[0].media.logo_url)&&f(e,"src",r)},d(l){l&&_(e)}}}function tl(t){let e,r,l=ol(t[0].publication_date)+"",n;return{c(){e=w("div"),r=L("ÐžÐ¿ÑƒÐ±Ð»Ð¸ÐºÐ¾Ð²Ð°Ð½Ð¾: "),n=L(l),this.h()},l(a){e=D(a,"DIV",{class:!0});var i=I(e);r=P(i,"ÐžÐ¿ÑƒÐ±Ð»Ð¸ÐºÐ¾Ð²Ð°Ð½Ð¾: "),n=P(i,l),i.forEach(_),this.h()},h(){f(e,"class","text-xs text-emerald-400")},m(a,i){j(a,e,i),d(e,r),d(e,n)},p(a,i){i&1&&l!==(l=ol(a[0].publication_date)+"")&&z(n,l)},d(a){a&&_(e)}}}function rl(t){let e,r,l,n,a,i="ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ Ð¿ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸ÑŽ",o,s,u;return{c(){e=w("a"),r=q("svg"),l=q("path"),n=M(),a=w("span"),a.textContent=i,this.h()},l(m){e=D(m,"A",{href:!0,target:!0,class:!0});var h=I(e);r=Y(h,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var c=I(r);l=Y(c,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),I(l).forEach(_),c.forEach(_),n=N(h),a=D(h,"SPAN",{"data-svelte-h":!0}),K(a)!=="svelte-ywc1wl"&&(a.textContent=i),h.forEach(_),this.h()},h(){f(l,"stroke-linecap","round"),f(l,"stroke-linejoin","round"),f(l,"stroke-width","2"),f(l,"d","M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"),f(r,"class","w-4 h-4"),f(r,"fill","none"),f(r,"stroke","currentColor"),f(r,"viewBox","0 0 24 24"),f(e,"href",o=t[0].publication_url),f(e,"target","_blank"),f(e,"class","mt-2 flex items-center gap-2 text-sm text-emerald-400 hover:text-emerald-300")},m(m,h){j(m,e,h),d(e,r),d(r,l),d(e,n),d(e,a),s||(u=Z(e,"click",ae(t[4])),s=!0)},p(m,h){h&1&&o!==(o=m[0].publication_url)&&f(e,"href",o)},d(m){m&&_(e),s=!1,u()}}}function ll(t){let e,r,l=t[0].author.first_name+"",n;return{c(){e=w("div"),r=L("ÐÐ²Ñ‚Ð¾Ñ€: "),n=L(l),this.h()},l(a){e=D(a,"DIV",{class:!0});var i=I(e);r=P(i,"ÐÐ²Ñ‚Ð¾Ñ€: "),n=P(i,l),i.forEach(_),this.h()},h(){f(e,"class","px-2 py-1 bg-blue-500/20 rounded")},m(a,i){j(a,e,i),d(e,r),d(e,n)},p(a,i){i&1&&l!==(l=a[0].author.first_name+"")&&z(n,l)},d(a){a&&_(e)}}}function nl(t){let e,r,l=t[0].editor.first_name+"",n;return{c(){e=w("div"),r=L("Ð ÐµÐ´Ð°ÐºÑ‚Ð¾Ñ€: "),n=L(l),this.h()},l(a){e=D(a,"DIV",{class:!0});var i=I(e);r=P(i,"Ð ÐµÐ´Ð°ÐºÑ‚Ð¾Ñ€: "),n=P(i,l),i.forEach(_),this.h()},h(){f(e,"class","px-2 py-1 bg-purple-500/20 rounded")},m(a,i){j(a,e,i),d(e,r),d(e,n)},p(a,i){i&1&&l!==(l=a[0].editor.first_name+"")&&z(n,l)},d(a){a&&_(e)}}}function al(t){let e,r,l=t[0].manager.first_name+"",n;return{c(){e=w("div"),r=L("ÐœÐµÐ½ÐµÐ´Ð¶ÐµÑ€: "),n=L(l),this.h()},l(a){e=D(a,"DIV",{class:!0});var i=I(e);r=P(i,"ÐœÐµÐ½ÐµÐ´Ð¶ÐµÑ€: "),n=P(i,l),i.forEach(_),this.h()},h(){f(e,"class","px-2 py-1 bg-cyan-500/20 rounded")},m(a,i){j(a,e,i),d(e,r),d(e,n)},p(a,i){i&1&&l!==(l=a[0].manager.first_name+"")&&z(n,l)},d(a){a&&_(e)}}}function il(t){let e,r,l=t[0].client_gratitude+"",n,a;return{c(){e=w("div"),r=L('"'),n=L(l),a=L('"'),this.h()},l(i){e=D(i,"DIV",{class:!0});var o=I(e);r=P(o,'"'),n=P(o,l),a=P(o,'"'),o.forEach(_),this.h()},h(){f(e,"class","p-2 bg-gray-200/50 rounded-lg italic text-sm text-gray-600")},m(i,o){j(i,e,o),d(e,r),d(e,n),d(e,a)},p(i,o){o&1&&l!==(l=i[0].client_gratitude+"")&&z(n,l)},d(i){i&&_(e)}}}function sl(t){let e,r=t[0].description+"",l;return{c(){e=w("p"),l=L(r),this.h()},l(n){e=D(n,"P",{class:!0});var a=I(e);l=P(a,r),a.forEach(_),this.h()},h(){f(e,"class","text-sm text-gray-500 line-clamp-2")},m(n,a){j(n,e,a),d(e,l)},p(n,a){a&1&&r!==(r=n[0].description+"")&&z(l,r)},d(n){n&&_(e)}}}function oi(t){let e,r,l=t[0].title+"",n,a,i,o,s,u,m,h,c,v,g="Ð’ Ð°Ñ€Ñ…Ð¸Ð²",E,p,y=t[0].media&&$r(t),b=t[0].author&&ll(t),k=t[0].editor&&nl(t),O=t[0].manager&&al(t),T=t[0].client_gratitude&&il(t),C=t[0].description&&sl(t);return{c(){e=w("div"),r=w("h4"),n=L(l),a=M(),y&&y.c(),i=M(),o=w("div"),b&&b.c(),s=M(),k&&k.c(),u=M(),O&&O.c(),m=M(),T&&T.c(),h=M(),C&&C.c(),c=M(),v=w("button"),v.textContent=g,this.h()},l(S){e=D(S,"DIV",{class:!0});var A=I(e);r=D(A,"H4",{class:!0});var x=I(r);n=P(x,l),x.forEach(_),a=N(A),y&&y.l(A),i=N(A),o=D(A,"DIV",{class:!0});var R=I(o);b&&b.l(R),s=N(R),k&&k.l(R),u=N(R),O&&O.l(R),R.forEach(_),m=N(A),T&&T.l(A),h=N(A),C&&C.l(A),c=N(A),v=D(A,"BUTTON",{class:!0,"data-svelte-h":!0}),K(v)!=="svelte-1qu6iro"&&(v.textContent=g),A.forEach(_),this.h()},h(){f(r,"class","font-semibold"),f(o,"class","flex flex-wrap gap-2 text-xs"),f(v,"class","w-full py-2 bg-gray-200 hover:bg-gray-300 rounded-lg text-sm transition-colors"),f(e,"class","space-y-3")},m(S,A){j(S,e,A),d(e,r),d(r,n),d(e,a),y&&y.m(e,null),d(e,i),d(e,o),b&&b.m(o,null),d(o,s),k&&k.m(o,null),d(o,u),O&&O.m(o,null),d(e,m),T&&T.m(e,null),d(e,h),C&&C.m(e,null),d(e,c),d(e,v),E||(p=Z(v,"click",ae(t[3])),E=!0)},p(S,[A]){A&1&&l!==(l=S[0].title+"")&&z(n,l),S[0].media?y?y.p(S,A):(y=$r(S),y.c(),y.m(e,i)):y&&(y.d(1),y=null),S[0].author?b?b.p(S,A):(b=ll(S),b.c(),b.m(o,s)):b&&(b.d(1),b=null),S[0].editor?k?k.p(S,A):(k=nl(S),k.c(),k.m(o,u)):k&&(k.d(1),k=null),S[0].manager?O?O.p(S,A):(O=al(S),O.c(),O.m(o,null)):O&&(O.d(1),O=null),S[0].client_gratitude?T?T.p(S,A):(T=il(S),T.c(),T.m(e,h)):T&&(T.d(1),T=null),S[0].description?C?C.p(S,A):(C=sl(S),C.c(),C.m(e,c)):C&&(C.d(1),C=null)},i:X,o:X,d(S){S&&_(e),y&&y.d(),b&&b.d(),k&&k.d(),O&&O.d(),T&&T.d(),C&&C.d(),E=!1,p()}}}function ol(t){return t?new Date(t).toLocaleDateString("ru-RU"):""}function ui(t,e,r){let{task:l}=e,{daysInStage:n}=e,{isOverdue:a}=e;function i(s){de.call(this,t,s)}function o(s){de.call(this,t,s)}return t.$$set=s=>{"task"in s&&r(0,l=s.task),"daysInStage"in s&&r(1,n=s.daysInStage),"isOverdue"in s&&r(2,a=s.isOverdue)},[l,n,a,i,o]}class fi extends ye{constructor(e){super(),Ee(this,e,ui,oi,be,{task:0,daysInStage:1,isOverdue:2})}}function ul(t){let e,r,l="ÐŸÑ€Ð¸Ñ‡Ð¸Ð½Ð° Ð¾ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ¸:",n,a,i=t[0].postpone_reason+"",o;return{c(){e=w("div"),r=w("div"),r.textContent=l,n=M(),a=w("p"),o=L(i),this.h()},l(s){e=D(s,"DIV",{class:!0});var u=I(e);r=D(u,"DIV",{class:!0,"data-svelte-h":!0}),K(r)!=="svelte-12rw7jw"&&(r.textContent=l),n=N(u),a=D(u,"P",{class:!0});var m=I(a);o=P(m,i),m.forEach(_),u.forEach(_),this.h()},h(){f(r,"class","text-xs text-red-600 mb-1"),f(a,"class","text-sm text-gray-700"),f(e,"class","p-2 bg-red-50 border border-red-200 rounded-lg")},m(s,u){j(s,e,u),d(e,r),d(e,n),d(e,a),d(a,o)},p(s,u){u&1&&i!==(i=s[0].postpone_reason+"")&&z(o,i)},d(s){s&&_(e)}}}function fl(t){let e,r,l,n="Ð”Ð°Ñ‚Ð° Ð²Ð¾Ð·Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ:",a,i,o=cl(t[0].postpone_resume_date)+"",s,u,m,h,c=t[2]&&dl();return{c(){e=w("div"),r=w("div"),l=w("div"),l.textContent=n,a=M(),i=w("div"),s=L(o),m=M(),c&&c.c(),this.h()},l(v){e=D(v,"DIV",{class:!0});var g=I(e);r=D(g,"DIV",{});var E=I(r);l=D(E,"DIV",{class:!0,"data-svelte-h":!0}),K(l)!=="svelte-86gria"&&(l.textContent=n),a=N(E),i=D(E,"DIV",{class:!0});var p=I(i);s=P(p,o),p.forEach(_),E.forEach(_),m=N(g),c&&c.l(g),g.forEach(_),this.h()},h(){f(l,"class","text-xs text-gray-500"),f(i,"class",u="font-medium text-gray-800 "+(t[2]?"text-amber-600":"")),f(e,"class",h="flex items-center justify-between p-2 rounded-lg "+(t[2]?"bg-amber-50 border border-amber-200":"bg-gray-50"))},m(v,g){j(v,e,g),d(e,r),d(r,l),d(r,a),d(r,i),d(i,s),d(e,m),c&&c.m(e,null)},p(v,g){g&1&&o!==(o=cl(v[0].postpone_resume_date)+"")&&z(s,o),g&4&&u!==(u="font-medium text-gray-800 "+(v[2]?"text-amber-600":""))&&f(i,"class",u),v[2]?c||(c=dl(),c.c(),c.m(e,null)):c&&(c.d(1),c=null),g&4&&h!==(h="flex items-center justify-between p-2 rounded-lg "+(v[2]?"bg-amber-50 border border-amber-200":"bg-gray-50"))&&f(e,"class",h)},d(v){v&&_(e),c&&c.d()}}}function dl(t){let e;return{c(){e=w("div"),this.h()},l(r){e=D(r,"DIV",{class:!0}),I(e).forEach(_),this.h()},h(){f(e,"class","w-3 h-3 rounded-full bg-amber-500 animate-pulse")},m(r,l){j(r,e,l)},d(r){r&&_(e)}}}function di(t){let e,r,l="ÐžÑ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÐµÐ½Ð½Ñ‹Ð¹:",n,a,i=t[0].author.first_name+"",o,s,u=t[0].author.last_name+"",m;return{c(){e=w("div"),r=w("span"),r.textContent=l,n=M(),a=w("span"),o=L(i),s=M(),m=L(u),this.h()},l(h){e=D(h,"DIV",{class:!0});var c=I(e);r=D(c,"SPAN",{class:!0,"data-svelte-h":!0}),K(r)!=="svelte-i31cuv"&&(r.textContent=l),n=N(c),a=D(c,"SPAN",{class:!0});var v=I(a);o=P(v,i),s=N(v),m=P(v,u),v.forEach(_),c.forEach(_),this.h()},h(){f(r,"class","text-gray-500"),f(a,"class","text-gray-800"),f(e,"class","flex items-center gap-2 text-sm")},m(h,c){j(h,e,c),d(e,r),d(e,n),d(e,a),d(a,o),d(a,s),d(a,m)},p(h,c){c&1&&i!==(i=h[0].author.first_name+"")&&z(o,i),c&1&&u!==(u=h[0].author.last_name+"")&&z(m,u)},d(h){h&&_(e)}}}function ci(t){let e,r,l="ÐžÑ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÐµÐ½Ð½Ñ‹Ð¹:",n,a,i=t[0].manager.first_name+"",o,s,u=t[0].manager.last_name+"",m;return{c(){e=w("div"),r=w("span"),r.textContent=l,n=M(),a=w("span"),o=L(i),s=M(),m=L(u),this.h()},l(h){e=D(h,"DIV",{class:!0});var c=I(e);r=D(c,"SPAN",{class:!0,"data-svelte-h":!0}),K(r)!=="svelte-i31cuv"&&(r.textContent=l),n=N(c),a=D(c,"SPAN",{class:!0});var v=I(a);o=P(v,i),s=N(v),m=P(v,u),v.forEach(_),c.forEach(_),this.h()},h(){f(r,"class","text-gray-500"),f(a,"class","text-gray-800"),f(e,"class","flex items-center gap-2 text-sm")},m(h,c){j(h,e,c),d(e,r),d(e,n),d(e,a),d(a,o),d(a,s),d(a,m)},p(h,c){c&1&&i!==(i=h[0].manager.first_name+"")&&z(o,i),c&1&&u!==(u=h[0].manager.last_name+"")&&z(m,u)},d(h){h&&_(e)}}}function hi(t){let e,r,l=t[0].title+"",n,a,i,o,s,u,m,h,c,v,g,E,p,y,b,k,O="Ð’ÐµÑ€Ð½ÑƒÑ‚ÑŒ Ð² Ñ€Ð°Ð±Ð¾Ñ‚Ñƒ",T,C,S=t[0].postpone_reason&&ul(t),A=t[0].postpone_resume_date&&fl(t);function x(B,F){if(B[0].manager)return ci;if(B[0].author)return di}let R=x(t),V=R&&R(t);return{c(){e=w("div"),r=w("h4"),n=L(l),a=M(),S&&S.c(),i=M(),A&&A.c(),o=M(),V&&V.c(),s=M(),u=w("div"),m=w("div"),h=q("svg"),c=q("path"),v=M(),g=w("span"),E=L("ÐžÑ‚Ð»Ð¾Ð¶ÐµÐ½Ð¾ "),p=L(t[1]),y=L(" Ð´Ð½."),b=M(),k=w("button"),k.textContent=O,this.h()},l(B){e=D(B,"DIV",{class:!0});var F=I(e);r=D(F,"H4",{class:!0});var H=I(r);n=P(H,l),H.forEach(_),a=N(F),S&&S.l(F),i=N(F),A&&A.l(F),o=N(F),V&&V.l(F),s=N(F),u=D(F,"DIV",{class:!0});var U=I(u);m=D(U,"DIV",{class:!0});var W=I(m);h=Y(W,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var G=I(h);c=Y(G,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),I(c).forEach(_),G.forEach(_),v=N(W),g=D(W,"SPAN",{});var J=I(g);E=P(J,"ÐžÑ‚Ð»Ð¾Ð¶ÐµÐ½Ð¾ "),p=P(J,t[1]),y=P(J," Ð´Ð½."),J.forEach(_),W.forEach(_),U.forEach(_),b=N(F),k=D(F,"BUTTON",{class:!0,"data-svelte-h":!0}),K(k)!=="svelte-1mmmicp"&&(k.textContent=O),F.forEach(_),this.h()},h(){f(r,"class","font-semibold text-gray-800"),f(c,"stroke-linecap","round"),f(c,"stroke-linejoin","round"),f(c,"stroke-width","2"),f(c,"d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"),f(h,"class","w-3 h-3"),f(h,"fill","none"),f(h,"stroke","currentColor"),f(h,"viewBox","0 0 24 24"),f(m,"class","flex items-center gap-1 text-xs text-gray-500"),f(u,"class","flex justify-end"),f(k,"class","w-full py-2 bg-green-600 hover:bg-green-700 rounded-lg text-sm font-medium transition-colors text-white"),f(e,"class","space-y-3")},m(B,F){j(B,e,F),d(e,r),d(r,n),d(e,a),S&&S.m(e,null),d(e,i),A&&A.m(e,null),d(e,o),V&&V.m(e,null),d(e,s),d(e,u),d(u,m),d(m,h),d(h,c),d(m,v),d(m,g),d(g,E),d(g,p),d(g,y),d(e,b),d(e,k),T||(C=Z(k,"click",ae(t[3])),T=!0)},p(B,[F]){F&1&&l!==(l=B[0].title+"")&&z(n,l),B[0].postpone_reason?S?S.p(B,F):(S=ul(B),S.c(),S.m(e,i)):S&&(S.d(1),S=null),B[0].postpone_resume_date?A?A.p(B,F):(A=fl(B),A.c(),A.m(e,o)):A&&(A.d(1),A=null),R===(R=x(B))&&V?V.p(B,F):(V&&V.d(1),V=R&&R(B),V&&(V.c(),V.m(e,s))),F&2&&z(p,B[1])},i:X,o:X,d(B){B&&_(e),S&&S.d(),A&&A.d(),V&&V.d(),T=!1,C()}}}function cl(t){return t?new Date(t).toLocaleDateString("ru-RU"):""}function mi(t,e,r){let l,{task:n}=e,{daysInStage:a}=e,{isOverdue:i}=e;async function o(){await Me.changeStatus(n.id,"new","Ð’Ð¾Ð·Ð²Ñ€Ð°Ñ‚ Ð¸Ð· Ð¾Ñ‚Ð»Ð¾Ð¶ÐµÐ½Ð½Ñ‹Ñ…")}return t.$$set=s=>{"task"in s&&r(0,n=s.task),"daysInStage"in s&&r(1,a=s.daysInStage),"isOverdue"in s&&r(4,i=s.isOverdue)},t.$$.update=()=>{t.$$.dirty&1&&r(2,l=n.postpone_resume_date&&new Date(n.postpone_resume_date).getTime()-Date.now()<3*24*60*60*1e3&&new Date(n.postpone_resume_date)>new Date)},[n,a,l,o,i]}class vi extends ye{constructor(e){super(),Ee(this,e,mi,hi,be,{task:0,daysInStage:1,isOverdue:4})}}function hl(t){let e,r='<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6"></path></svg>',l,n;return{c(){e=w("button"),e.innerHTML=r,this.h()},l(a){e=D(a,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),K(e)!=="svelte-1cwhle9"&&(e.innerHTML=r),this.h()},h(){f(e,"class","absolute top-2 right-2 p-1.5 bg-gray-100 hover:bg-gray-200 rounded-full transition-colors text-gray-600"),f(e,"title","ÐžÑ‚Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð¿ÐµÑ€ÐµÐ¼ÐµÑ‰ÐµÐ½Ð¸Ðµ")},m(a,i){j(a,e,i),l||(n=Z(e,"click",ae(t[7])),l=!0)},p:X,d(a){a&&_(e),l=!1,n()}}}function ml(t){let e,r=t[0].iteration+"",l;return{c(){e=w("div"),l=L(r),this.h()},l(n){e=D(n,"DIV",{class:!0});var a=I(e);l=P(a,r),a.forEach(_),this.h()},h(){f(e,"class","absolute bottom-2 right-2 text-xs bg-amber-100 text-amber-700 px-1.5 py-0.5 rounded")},m(n,a){j(n,e,a),d(e,l)},p(n,a){a&1&&r!==(r=n[0].iteration+"")&&z(l,r)},d(n){n&&_(e)}}}function _i(t){let e,r,l,n,a,i,o,s,u,m,h;var c=t[5][t[1]];function v(p,y){return{props:{task:p[0],daysInStage:p[2],isOverdue:p[4]}}}c&&(i=rr(c,v(t)));let g=t[3]&&hl(t),E=t[0].iteration>0&&ml(t);return{c(){e=w("div"),r=w("div"),n=M(),a=w("div"),i&&Ze(i.$$.fragment),o=M(),g&&g.c(),s=M(),E&&E.c(),this.h()},l(p){e=D(p,"DIV",{class:!0,role:!0,tabindex:!0});var y=I(e);r=D(y,"DIV",{class:!0}),I(r).forEach(_),n=N(y),a=D(y,"DIV",{class:!0});var b=I(a);i&&tt(i.$$.fragment,b),b.forEach(_),o=N(y),g&&g.l(y),s=N(y),E&&E.l(y),y.forEach(_),this.h()},h(){f(r,"class",l="h-1 "+(t[6][t[0].task_type]||"bg-gray-500")),f(a,"class","p-3"),f(e,"class","task-card bg-white rounded-lg overflow-hidden cursor-pointer relative border border-gray-200 shadow-sm"),f(e,"role","button"),f(e,"tabindex","0"),re(e,"just-moved",t[3]),re(e,"overdue",t[4])},m(p,y){j(p,e,y),d(e,r),d(e,n),d(e,a),i&&Ye(i,a,null),d(e,o),g&&g.m(e,null),d(e,s),E&&E.m(e,null),u=!0,m||(h=[Z(e,"click",t[8]),Z(e,"keypress",t[8])],m=!0)},p(p,[y]){if((!u||y&1&&l!==(l="h-1 "+(p[6][p[0].task_type]||"bg-gray-500")))&&f(r,"class",l),y&2&&c!==(c=p[5][p[1]])){if(i){pt();const b=i;we(b.$$.fragment,1,0,()=>{We(b,1)}),bt()}c?(i=rr(c,v(p)),Ze(i.$$.fragment),ge(i.$$.fragment,1),Ye(i,a,null)):i=null}else if(c){const b={};y&1&&(b.task=p[0]),y&4&&(b.daysInStage=p[2]),y&16&&(b.isOverdue=p[4]),i.$set(b)}p[3]?g?g.p(p,y):(g=hl(p),g.c(),g.m(e,s)):g&&(g.d(1),g=null),p[0].iteration>0?E?E.p(p,y):(E=ml(p),E.c(),E.m(e,null)):E&&(E.d(1),E=null),(!u||y&8)&&re(e,"just-moved",p[3]),(!u||y&16)&&re(e,"overdue",p[4])},i(p){u||(i&&ge(i.$$.fragment,p),u=!0)},o(p){i&&we(i.$$.fragment,p),u=!1},d(p){p&&_(e),i&&We(i),g&&g.d(),E&&E.d(),m=!1,ut(h)}}}function gi(t,e,r){let l,n,{task:a}=e,{stage:i}=e;const o=Yt(),s={new:La,in_progress:za,editor_review:Za,client_approval:Ja,client_approved:ri,sent_to_media:si,published:fi,postponed:vi},u={article:"bg-task-article",recommendation:"bg-task-recommendation",cover_letter:"bg-task-cover"};let m=!1,h=null;Rl(()=>{const g=sessionStorage.getItem(`task_moved_${a.id}`);if(g){const E=parseInt(g),p=Date.now()-E;p<2e4?(r(3,m=!0),h=setTimeout(()=>{r(3,m=!1),sessionStorage.removeItem(`task_moved_${a.id}`)},2e4-p)):sessionStorage.removeItem(`task_moved_${a.id}`)}}),rn(()=>{h&&clearTimeout(h)});async function c(){try{await Me.undo(a.id),r(3,m=!1),sessionStorage.removeItem(`task_moved_${a.id}`)}catch(g){console.error("Undo failed:",g)}}function v(){o("open",{task:a})}return t.$$set=g=>{"task"in g&&r(0,a=g.task),"stage"in g&&r(1,i=g.stage)},t.$$.update=()=>{t.$$.dirty&1&&r(2,l=Math.floor((Date.now()-new Date(a.status_changed_at).getTime())/(1e3*60*60*24))),t.$$.dirty&4&&r(4,n=l>3)},[a,i,l,m,n,s,u,c,v]}class pi extends ye{constructor(e){super(),Ee(this,e,gi,_i,be,{task:0,stage:1})}}function vl(t,e,r){const l=t.slice();return l[18]=e[r],l}function _l(t,e,r){const l=t.slice();return l[21]=e[r],l}function gl(t){let e,r,l,n="ÐŸÑ€Ð¸Ñ‡Ð¸Ð½Ð° Ð¾ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ¸",a,i,o,s,u,m="Ð”Ð°Ñ‚Ð° Ð²Ð¾Ð·Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ",h,c,v,g;return{c(){e=w("div"),r=w("div"),l=w("label"),l.textContent=n,a=M(),i=w("input"),o=M(),s=w("div"),u=w("label"),u.textContent=m,h=M(),c=w("input"),this.h()},l(E){e=D(E,"DIV",{class:!0});var p=I(e);r=D(p,"DIV",{});var y=I(r);l=D(y,"LABEL",{class:!0,"data-svelte-h":!0}),K(l)!=="svelte-o87s5j"&&(l.textContent=n),a=N(y),i=D(y,"INPUT",{type:!0,placeholder:!0,class:!0}),y.forEach(_),o=N(p),s=D(p,"DIV",{});var b=I(s);u=D(b,"LABEL",{class:!0,"data-svelte-h":!0}),K(u)!=="svelte-1guh7gj"&&(u.textContent=m),h=N(b),c=D(b,"INPUT",{type:!0,class:!0}),b.forEach(_),p.forEach(_),this.h()},h(){f(l,"class","text-sm text-gray-500 mb-1 block"),f(i,"type","text"),f(i,"placeholder","ÐŸÐ¾Ñ‡ÐµÐ¼Ñƒ Ð·Ð°Ð´Ð°Ñ‡Ð° Ð¾Ñ‚Ð»Ð¾Ð¶ÐµÐ½Ð°..."),f(i,"class","w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded-lg"),f(u,"class","text-sm text-gray-500 mb-1 block"),f(c,"type","date"),f(c,"class","w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded-lg"),f(e,"class","space-y-3 p-3 bg-gray-100/50 rounded-lg")},m(E,p){j(E,e,p),d(e,r),d(r,l),d(r,a),d(r,i),xe(i,t[2]),d(e,o),d(e,s),d(s,u),d(s,h),d(s,c),xe(c,t[3]),v||(g=[Z(i,"input",t[13]),Z(c,"input",t[14])],v=!0)},p(E,p){p&4&&i.value!==E[2]&&xe(i,E[2]),p&8&&xe(c,E[3])},d(E){E&&_(e),v=!1,ut(g)}}}function pl(t){let e,r=t[21]+"",l,n,a,i;function o(){return t[15](t[21])}return{c(){e=w("button"),l=L(r),n=M(),this.h()},l(s){e=D(s,"BUTTON",{type:!0,class:!0});var u=I(e);l=P(u,r),n=N(u),u.forEach(_),this.h()},h(){f(e,"type","button"),f(e,"class","px-2 py-1 text-sm bg-gray-100 hover:bg-gray-200 rounded transition-colors")},m(s,u){j(s,e,u),d(e,l),d(e,n),a||(i=Z(e,"click",o),a=!0)},p(s,u){t=s},d(s){s&&_(e),a=!1,i()}}}function bl(t){let e,r,l="ÐÐµÐ´Ð°Ð²Ð½Ð¸Ðµ:",n,a,i=Ie(t[4]),o=[];for(let s=0;s<i.length;s+=1)o[s]=yl(vl(t,i,s));return{c(){e=w("div"),r=w("p"),r.textContent=l,n=M(),a=w("div");for(let s=0;s<o.length;s+=1)o[s].c();this.h()},l(s){e=D(s,"DIV",{});var u=I(e);r=D(u,"P",{class:!0,"data-svelte-h":!0}),K(r)!=="svelte-1tgtb1o"&&(r.textContent=l),n=N(u),a=D(u,"DIV",{class:!0});var m=I(a);for(let h=0;h<o.length;h+=1)o[h].l(m);m.forEach(_),u.forEach(_),this.h()},h(){f(r,"class","text-sm text-gray-500 mb-2"),f(a,"class","flex flex-wrap gap-2")},m(s,u){j(s,e,u),d(e,r),d(e,n),d(e,a);for(let m=0;m<o.length;m+=1)o[m]&&o[m].m(a,null)},p(s,u){if(u&144){i=Ie(s[4]);let m;for(m=0;m<i.length;m+=1){const h=vl(s,i,m);o[m]?o[m].p(h,u):(o[m]=yl(h),o[m].c(),o[m].m(a,null))}for(;m<o.length;m+=1)o[m].d(1);o.length=i.length}},d(s){s&&_(e),ft(o,s)}}}function yl(t){let e,r=t[18]+"",l,n,a,i;function o(){return t[16](t[18])}return{c(){e=w("button"),l=L(r),n=M(),this.h()},l(s){e=D(s,"BUTTON",{type:!0,class:!0});var u=I(e);l=P(u,r),n=N(u),u.forEach(_),this.h()},h(){f(e,"type","button"),f(e,"class","px-2 py-1 text-sm bg-blue-500/20 text-blue-400 hover:bg-blue-500/30 rounded transition-colors")},m(s,u){j(s,e,u),d(e,l),d(e,n),a||(i=Z(e,"click",o),a=!0)},p(s,u){t=s,u&16&&r!==(r=t[18]+"")&&z(l,r)},d(s){s&&_(e),a=!1,i()}}}function bi(t){let e,r,l,n="ÐšÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð°Ñ€Ð¸Ð¹ Ðº Ð¿ÐµÑ€ÐµÐ¼ÐµÑ‰ÐµÐ½Ð¸ÑŽ",a,i,o,s,u,m,h,c,v="Ð¨Ð°Ð±Ð»Ð¾Ð½Ñ‹:",g,E,p,y,b,k,O="ÐžÑ‚Ð¼ÐµÐ½Ð°",T,C,S,A,x,R,V=t[0]==="postponed"&&gl(t),B=Ie(t[5]),F=[];for(let U=0;U<B.length;U+=1)F[U]=pl(_l(t,B,U));let H=t[4].length>0&&bl(t);return{c(){e=w("div"),r=w("div"),l=w("h3"),l.textContent=n,a=M(),i=w("div"),o=w("div"),s=w("input"),u=M(),V&&V.c(),m=M(),h=w("div"),c=w("p"),c.textContent=v,g=M(),E=w("div");for(let U=0;U<F.length;U+=1)F[U].c();p=M(),H&&H.c(),y=M(),b=w("div"),k=w("button"),k.textContent=O,T=M(),C=w("button"),S=L("ÐŸÐ¾Ð´Ñ‚Ð²ÐµÑ€Ð´Ð¸Ñ‚ÑŒ"),this.h()},l(U){e=D(U,"DIV",{class:!0});var W=I(e);r=D(W,"DIV",{class:!0});var G=I(r);l=D(G,"H3",{class:!0,"data-svelte-h":!0}),K(l)!=="svelte-1o35f15"&&(l.textContent=n),a=N(G),i=D(G,"DIV",{class:!0});var J=I(i);o=D(J,"DIV",{});var Pe=I(o);s=D(Pe,"INPUT",{type:!0,placeholder:!0,class:!0}),Pe.forEach(_),u=N(J),V&&V.l(J),m=N(J),h=D(J,"DIV",{});var fe=I(h);c=D(fe,"P",{class:!0,"data-svelte-h":!0}),K(c)!=="svelte-u19yx6"&&(c.textContent=v),g=N(fe),E=D(fe,"DIV",{class:!0});var Ve=I(E);for(let me=0;me<F.length;me+=1)F[me].l(Ve);Ve.forEach(_),fe.forEach(_),p=N(J),H&&H.l(J),y=N(J),b=D(J,"DIV",{class:!0});var he=I(b);k=D(he,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),K(k)!=="svelte-difpgt"&&(k.textContent=O),T=N(he),C=D(he,"BUTTON",{type:!0,class:!0});var ze=I(C);S=P(ze,"ÐŸÐ¾Ð´Ñ‚Ð²ÐµÑ€Ð´Ð¸Ñ‚ÑŒ"),ze.forEach(_),he.forEach(_),J.forEach(_),G.forEach(_),W.forEach(_),this.h()},h(){f(l,"class","text-lg font-semibold mb-4"),f(s,"type","text"),f(s,"placeholder","Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð¿Ñ€Ð¸Ñ‡Ð¸Ð½Ñƒ Ð¿ÐµÑ€ÐµÐ¼ÐµÑ‰ÐµÐ½Ð¸Ñ..."),f(s,"class","w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded-lg focus:outline-none focus:border-primary-500"),f(c,"class","text-sm text-gray-500 mb-2"),f(E,"class","flex flex-wrap gap-2"),f(k,"type","button"),f(k,"class","px-4 py-2 text-gray-500 hover:text-white transition-colors"),f(C,"type","button"),C.disabled=A=!t[1].trim(),f(C,"class","px-4 py-2 bg-primary-500 hover:bg-primary-600 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition-colors"),f(b,"class","flex justify-end gap-3 pt-4"),f(i,"class","space-y-4"),f(r,"class","bg-white rounded-lg w-full max-w-md p-6"),f(e,"class","fixed inset-0 bg-black/50 flex items-center justify-center z-50")},m(U,W){j(U,e,W),d(e,r),d(r,l),d(r,a),d(r,i),d(i,o),d(o,s),xe(s,t[1]),d(i,u),V&&V.m(i,null),d(i,m),d(i,h),d(h,c),d(h,g),d(h,E);for(let G=0;G<F.length;G+=1)F[G]&&F[G].m(E,null);d(i,p),H&&H.m(i,null),d(i,y),d(i,b),d(b,k),d(b,T),d(b,C),d(C,S),x||(R=[Z(s,"input",t[12]),Z(k,"click",t[9]),Z(C,"click",t[8]),Z(r,"click",ae(t[11])),Z(e,"click",t[9])],x=!0)},p(U,[W]){if(W&2&&s.value!==U[1]&&xe(s,U[1]),U[0]==="postponed"?V?V.p(U,W):(V=gl(U),V.c(),V.m(i,m)):V&&(V.d(1),V=null),W&96){B=Ie(U[5]);let G;for(G=0;G<B.length;G+=1){const J=_l(U,B,G);F[G]?F[G].p(J,W):(F[G]=pl(J),F[G].c(),F[G].m(E,null))}for(;G<F.length;G+=1)F[G].d(1);F.length=B.length}U[4].length>0?H?H.p(U,W):(H=bl(U),H.c(),H.m(i,y)):H&&(H.d(1),H=null),W&2&&A!==(A=!U[1].trim())&&(C.disabled=A)},i:X,o:X,d(U){U&&_(e),V&&V.d(),ft(F,U),H&&H.d(),x=!1,ut(R)}}}function yi(t,e,r){let{fromStatus:l}=e,{toStatus:n}=e;const a=Yt();let i="",o="",s="";const u=["Ð¢Ñ€ÐµÐ±ÑƒÑŽÑ‚ÑÑ Ð¿Ñ€Ð°Ð²ÐºÐ¸","ÐžÐ¶Ð¸Ð´Ð°Ð½Ð¸Ðµ Ð¾Ð±Ñ€Ð°Ñ‚Ð½Ð¾Ð¹ ÑÐ²ÑÐ·Ð¸","Ð˜Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ Ñ‚Ñ€ÐµÐ±Ð¾Ð²Ð°Ð½Ð¸Ð¹","ÐÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð° Ð´Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð°Ñ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ","ÐšÐ»Ð¸ÐµÐ½Ñ‚ Ð¿Ð¾Ð¿Ñ€Ð¾ÑÐ¸Ð» Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ"];let m=[];if(typeof window<"u"){const T=localStorage.getItem("recent_comments");T&&(m=JSON.parse(T).slice(0,5))}function h(T){r(1,i=T)}function c(T){r(1,i=T)}function v(){if(i.trim()){if(typeof window<"u"){const T=[i,...m.filter(C=>C!==i)].slice(0,5);localStorage.setItem("recent_comments",JSON.stringify(T))}a("submit",{comment:i,postponeReason:n==="postponed"?o:null,postponeResumeDate:n==="postponed"?s:null})}}function g(){a("cancel")}function E(T){de.call(this,t,T)}function p(){i=this.value,r(1,i)}function y(){o=this.value,r(2,o)}function b(){s=this.value,r(3,s)}const k=T=>h(T),O=T=>c(T);return t.$$set=T=>{"fromStatus"in T&&r(10,l=T.fromStatus),"toStatus"in T&&r(0,n=T.toStatus)},[n,i,o,s,m,u,h,c,v,g,l,E,p,y,b,k,O]}class Ei extends ye{constructor(e){super(),Ee(this,e,yi,bi,be,{fromStatus:10,toStatus:0})}}function El(t,e,r){const l=t.slice();return l[10]=e[r],l}function kl(t,e){let r,l,n,a,i=X,o;return l=new pi({props:{task:e[10],stage:e[1].id}}),{key:t,first:null,c(){r=w("div"),Ze(l.$$.fragment),n=M(),this.h()},l(s){r=D(s,"DIV",{});var u=I(r);tt(l.$$.fragment,u),n=N(u),u.forEach(_),this.h()},h(){this.first=r},m(s,u){j(s,r,u),Ye(l,r,null),d(r,n),o=!0},p(s,u){e=s;const m={};u&1&&(m.task=e[10]),u&2&&(m.stage=e[1].id),l.$set(m)},r(){a=r.getBoundingClientRect()},f(){pn(r),i()},a(){i(),i=gn(r,a,Ra,{duration:Zt})},i(s){o||(ge(l.$$.fragment,s),o=!0)},o(s){we(l.$$.fragment,s),o=!1},d(s){s&&_(r),We(l)}}}function Dl(t){var l,n;let e,r;return e=new Ei({props:{fromStatus:(l=t[3])==null?void 0:l.fromStatus,toStatus:(n=t[3])==null?void 0:n.toStatus}}),e.$on("submit",t[6]),e.$on("cancel",t[7]),{c(){Ze(e.$$.fragment)},l(a){tt(e.$$.fragment,a)},m(a,i){Ye(e,a,i),r=!0},p(a,i){var s,u;const o={};i&8&&(o.fromStatus=(s=a[3])==null?void 0:s.fromStatus),i&8&&(o.toStatus=(u=a[3])==null?void 0:u.toStatus),e.$set(o)},i(a){r||(ge(e.$$.fragment,a),r=!0)},o(a){we(e.$$.fragment,a),r=!1},d(a){We(e,a)}}}function ki(t){let e,r,l,n,a,i,o,s=t[1].label+"",u,m,h,c=t[0].length+"",v,g,E,p=[],y=new Map,b,k,O,T,C,S,A=Ie(t[0]);const x=V=>V[10].id;for(let V=0;V<A.length;V+=1){let B=El(t,A,V),F=x(B);y.set(F,p[V]=kl(F,B))}let R=t[2]&&Dl(t);return{c(){e=w("div"),r=w("div"),l=w("div"),n=w("div"),i=M(),o=w("span"),u=L(s),m=M(),h=w("span"),v=L(c),g=M(),E=w("div");for(let V=0;V<p.length;V+=1)p[V].c();k=M(),R&&R.c(),O=lr(),this.h()},l(V){e=D(V,"DIV",{class:!0});var B=I(e);r=D(B,"DIV",{class:!0});var F=I(r);l=D(F,"DIV",{class:!0});var H=I(l);n=D(H,"DIV",{class:!0}),I(n).forEach(_),i=N(H),o=D(H,"SPAN",{});var U=I(o);u=P(U,s),U.forEach(_),H.forEach(_),m=N(F),h=D(F,"SPAN",{class:!0});var W=I(h);v=P(W,c),W.forEach(_),F.forEach(_),g=N(B),E=D(B,"DIV",{class:!0});var G=I(E);for(let J=0;J<p.length;J+=1)p[J].l(G);G.forEach(_),B.forEach(_),k=N(V),R&&R.l(V),O=lr(),this.h()},h(){f(n,"class",a="w-3 h-3 rounded-full "+t[1].color),f(l,"class","flex items-center gap-2"),f(h,"class","text-sm text-gray-500 bg-gray-100 px-2 py-0.5 rounded"),f(r,"class","kanban-column-header"),f(E,"class","kanban-column-content"),f(e,"class","kanban-column w-80 flex-shrink-0")},m(V,B){j(V,e,B),d(e,r),d(r,l),d(l,n),d(l,i),d(l,o),d(o,u),d(r,m),d(r,h),d(h,v),d(e,g),d(e,E);for(let F=0;F<p.length;F+=1)p[F]&&p[F].m(E,null);j(V,k,B),R&&R.m(V,B),j(V,O,B),T=!0,C||(S=[ln(b=Aa.call(null,E,{items:t[0],flipDurationMs:Zt,dropTargetStyle:{outline:"2px dashed rgba(59,130,246,0.5)"}})),Z(E,"consider",t[4]),Z(E,"finalize",t[5])],C=!0)},p(V,[B]){if((!T||B&2&&a!==(a="w-3 h-3 rounded-full "+V[1].color))&&f(n,"class",a),(!T||B&2)&&s!==(s=V[1].label+"")&&z(u,s),(!T||B&1)&&c!==(c=V[0].length+"")&&z(v,c),B&3){A=Ie(V[0]),pt();for(let F=0;F<p.length;F+=1)p[F].r();p=on(p,B,x,1,V,A,y,E,un,kl,null,El);for(let F=0;F<p.length;F+=1)p[F].a();bt()}b&&Ml(b.update)&&B&1&&b.update.call(null,{items:V[0],flipDurationMs:Zt,dropTargetStyle:{outline:"2px dashed rgba(59,130,246,0.5)"}}),V[2]?R?(R.p(V,B),B&4&&ge(R,1)):(R=Dl(V),R.c(),ge(R,1),R.m(O.parentNode,O)):R&&(pt(),we(R,1,1,()=>{R=null}),bt())},i(V){if(!T){for(let B=0;B<A.length;B+=1)ge(p[B]);ge(R),T=!0}},o(V){for(let B=0;B<p.length;B+=1)we(p[B]);we(R),T=!1},d(V){V&&(_(e),_(k),_(O));for(let B=0;B<p.length;B+=1)p[B].d();R&&R.d(V),C=!1,ut(S)}}}const Zt=200;function Di(t,e,r){let{column:l}=e,{tasks:n=[]}=e,a=!1,i=null;const o=["new","in_progress","editor_review","client_approval","client_approved","sent_to_media","published"];function s(v,g){if(v==="postponed"||g==="postponed")return!1;const E=o.indexOf(v);return o.indexOf(g)===E+1}function u(v){r(0,n=v.detail.items)}async function m(v){const g=v.detail.items.find(E=>!n.find(p=>p.id===E.id));if(g&&g.status!==l.id)if(!s(g.status,l.id))r(3,i={taskId:g.id,fromStatus:g.status,toStatus:l.id}),r(2,a=!0);else try{await Me.changeStatus(g.id,l.id)}catch(p){console.error("Failed to change status:",p),alert(p.message||"ÐžÑˆÐ¸Ð±ÐºÐ° Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ ÑÑ‚Ð°Ñ‚ÑƒÑÐ°"),Me.load();return}r(0,n=v.detail.items)}async function h(v){const{comment:g,postponeReason:E,postponeResumeDate:p}=v.detail;if(i)try{await Me.changeStatus(i.taskId,i.toStatus,g,{postpone_reason:E,postpone_resume_date:p})}catch(y){console.error("Failed to change status:",y),alert(y.message||"ÐžÑˆÐ¸Ð±ÐºÐ° Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ ÑÑ‚Ð°Ñ‚ÑƒÑÐ°"),Me.load()}r(2,a=!1),r(3,i=null)}function c(){Me.load(),r(2,a=!1),r(3,i=null)}return t.$$set=v=>{"column"in v&&r(1,l=v.column),"tasks"in v&&r(0,n=v.tasks)},[n,l,a,i,u,m,h,c]}class wi extends ye{constructor(e){super(),Ee(this,e,Di,ki,be,{column:1,tasks:0})}}function wl(t,e,r){const l=t.slice();return l[19]=e[r],l}function Il(t,e,r){const l=t.slice();return l[22]=e[r],l[24]=r,l}function Tl(t){let e,r=t[22].value+"",l,n,a,i="Ã—",o,s,u,m;function h(){return t[10](t[24])}return{c(){e=w("span"),l=L(r),n=M(),a=w("button"),a.textContent=i,o=M(),this.h()},l(c){e=D(c,"SPAN",{class:!0});var v=I(e);l=P(v,r),n=N(v),a=D(v,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),K(a)!=="svelte-1xcpk4o"&&(a.textContent=i),o=N(v),v.forEach(_),this.h()},h(){f(a,"type","button"),f(a,"class","ml-1 hover:text-gray-800"),f(e,"class",s="search-token "+t[22].type)},m(c,v){j(c,e,v),d(e,l),d(e,n),d(e,a),d(e,o),u||(m=Z(a,"click",h),u=!0)},p(c,v){t=c,v&2&&r!==(r=t[22].value+"")&&z(l,r),v&2&&s!==(s="search-token "+t[22].type)&&f(e,"class",s)},d(c){c&&_(e),u=!1,m()}}}function Ol(t){let e,r='<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>',l,n;return{c(){e=w("button"),e.innerHTML=r,this.h()},l(a){e=D(a,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),K(e)!=="svelte-1y7crf6"&&(e.innerHTML=r),this.h()},h(){f(e,"type","button"),f(e,"class","p-1 hover:bg-gray-100 rounded transition-colors text-gray-500")},m(a,i){j(a,e,i),l||(n=Z(e,"click",t[9]),l=!0)},p:X,d(a){a&&_(e),l=!1,n()}}}function Sl(t){var s;let e,r,l=(((s=t[4])==null?void 0:s.label)||"ÐŸÐ¾Ð´ÑÐºÐ°Ð·ÐºÐ¸")+"",n,a,i=Ie(t[2]),o=[];for(let u=0;u<i.length;u+=1)o[u]=Cl(wl(t,i,u));return{c(){e=w("div"),r=w("div"),n=L(l),a=M();for(let u=0;u<o.length;u+=1)o[u].c();this.h()},l(u){e=D(u,"DIV",{class:!0});var m=I(e);r=D(m,"DIV",{class:!0});var h=I(r);n=P(h,l),h.forEach(_),a=N(m);for(let c=0;c<o.length;c+=1)o[c].l(m);m.forEach(_),this.h()},h(){f(r,"class","px-3 py-2 text-xs text-gray-500 border-b border-gray-200"),f(e,"class","absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-50 max-h-60 overflow-y-auto")},m(u,m){j(u,e,m),d(e,r),d(r,n),d(e,a);for(let h=0;h<o.length;h+=1)o[h]&&o[h].m(e,null)},p(u,m){var h;if(m&16&&l!==(l=(((h=u[4])==null?void 0:h.label)||"ÐŸÐ¾Ð´ÑÐºÐ°Ð·ÐºÐ¸")+"")&&z(n,l),m&68){i=Ie(u[2]);let c;for(c=0;c<i.length;c+=1){const v=wl(u,i,c);o[c]?o[c].p(v,m):(o[c]=Cl(v),o[c].c(),o[c].m(e,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=i.length}},d(u){u&&_(e),ft(o,u)}}}function Ii(t){let e,r="#";return{c(){e=w("div"),e.textContent=r,this.h()},l(l){e=D(l,"DIV",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-y661j9"&&(e.textContent=r),this.h()},h(){f(e,"class","w-6 h-6 rounded bg-purple-100 text-purple-700 flex items-center justify-center text-xs")},m(l,n){j(l,e,n)},p:X,d(l){l&&_(e)}}}function Ti(t){let e,r=t[19].name[0]+"",l;return{c(){e=w("div"),l=L(r),this.h()},l(n){e=D(n,"DIV",{class:!0});var a=I(e);l=P(a,r),a.forEach(_),this.h()},h(){f(e,"class","w-6 h-6 rounded-full bg-blue-100 text-blue-700 flex items-center justify-center text-xs")},m(n,a){j(n,e,a),d(e,l)},p(n,a){a&4&&r!==(r=n[19].name[0]+"")&&z(l,r)},d(n){n&&_(e)}}}function Cl(t){let e,r,l,n=t[19].name+"",a,i,o,s;function u(v,g){if(v[19].type==="user")return Ti;if(v[19].type==="media")return Ii}let m=u(t),h=m&&m(t);function c(){return t[13](t[19])}return{c(){e=w("button"),h&&h.c(),r=M(),l=w("span"),a=L(n),i=M(),this.h()},l(v){e=D(v,"BUTTON",{type:!0,class:!0});var g=I(e);h&&h.l(g),r=N(g),l=D(g,"SPAN",{class:!0});var E=I(l);a=P(E,n),E.forEach(_),i=N(g),g.forEach(_),this.h()},h(){f(l,"class","text-sm"),f(e,"type","button"),f(e,"class","w-full px-3 py-2 text-left hover:bg-gray-100 transition-colors flex items-center gap-2 text-gray-700")},m(v,g){j(v,e,g),h&&h.m(e,null),d(e,r),d(e,l),d(l,a),d(e,i),o||(s=Z(e,"click",c),o=!0)},p(v,g){t=v,m===(m=u(t))&&h?h.p(t,g):(h&&h.d(1),h=m&&m(t),h&&(h.c(),h.m(e,r))),g&4&&n!==(n=t[19].name+"")&&z(a,n)},d(v){v&&_(e),h&&h.d(),o=!1,s()}}}function Oi(t){let e,r,l,n,a,i,o,s,u,m,h,c,v,g=Ie(t[1]),E=[];for(let b=0;b<g.length;b+=1)E[b]=Tl(Il(t,g,b));let p=(t[1].length>0||t[0])&&Ol(t),y=t[3]&&t[2].length>0&&Sl(t);return{c(){e=w("div"),r=w("div"),l=q("svg"),n=q("path"),a=M(),i=w("div");for(let b=0;b<E.length;b+=1)E[b].c();o=M(),s=w("input"),m=M(),p&&p.c(),h=M(),y&&y.c(),this.h()},l(b){e=D(b,"DIV",{class:!0});var k=I(e);r=D(k,"DIV",{class:!0});var O=I(r);l=Y(O,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0});var T=I(l);n=Y(T,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),I(n).forEach(_),T.forEach(_),a=N(O),i=D(O,"DIV",{class:!0});var C=I(i);for(let S=0;S<E.length;S+=1)E[S].l(C);o=N(C),s=D(C,"INPUT",{type:!0,placeholder:!0,class:!0}),C.forEach(_),m=N(O),p&&p.l(O),O.forEach(_),h=N(k),y&&y.l(k),k.forEach(_),this.h()},h(){f(n,"stroke-linecap","round"),f(n,"stroke-linejoin","round"),f(n,"stroke-width","2"),f(n,"d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"),f(l,"class","w-5 h-5 text-gray-400 flex-shrink-0"),f(l,"fill","none"),f(l,"stroke","currentColor"),f(l,"viewBox","0 0 24 24"),f(s,"type","text"),f(s,"placeholder",u=t[1].length===0?"ÐŸÐ¾Ð¸ÑÐº... (@ÑÐ¾Ñ‚Ñ€ÑƒÐ´Ð½Ð¸Ðº, #Ð¡ÐœÐ˜, Ð°Ð²Ñ‚Ð¾Ñ€:, Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¾Ñ€:)":""),f(s,"class","flex-1 min-w-[200px] bg-transparent outline-none text-sm text-gray-900 placeholder-gray-400"),f(i,"class","flex items-center gap-2 flex-wrap flex-1"),f(r,"class","flex items-center gap-2 px-4 py-3 bg-white rounded-lg border border-gray-300 focus-within:border-blue-500 focus-within:ring-2 focus-within:ring-blue-100 shadow-sm"),f(e,"class","relative")},m(b,k){j(b,e,k),d(e,r),d(r,l),d(l,n),d(r,a),d(r,i);for(let O=0;O<E.length;O+=1)E[O]&&E[O].m(i,null);d(i,o),d(i,s),xe(s,t[0]),d(r,m),p&&p.m(r,null),d(e,h),y&&y.m(e,null),c||(v=[Z(s,"input",t[11]),Z(s,"input",t[5]),Z(s,"keydown",t[8]),Z(s,"blur",t[12])],c=!0)},p(b,[k]){if(k&130){g=Ie(b[1]);let O;for(O=0;O<g.length;O+=1){const T=Il(b,g,O);E[O]?E[O].p(T,k):(E[O]=Tl(T),E[O].c(),E[O].m(i,o))}for(;O<E.length;O+=1)E[O].d(1);E.length=g.length}k&2&&u!==(u=b[1].length===0?"ÐŸÐ¾Ð¸ÑÐº... (@ÑÐ¾Ñ‚Ñ€ÑƒÐ´Ð½Ð¸Ðº, #Ð¡ÐœÐ˜, Ð°Ð²Ñ‚Ð¾Ñ€:, Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¾Ñ€:)":"")&&f(s,"placeholder",u),k&1&&s.value!==b[0]&&xe(s,b[0]),b[1].length>0||b[0]?p?p.p(b,k):(p=Ol(b),p.c(),p.m(r,null)):p&&(p.d(1),p=null),b[3]&&b[2].length>0?y?y.p(b,k):(y=Sl(b),y.c(),y.m(e,null)):y&&(y.d(1),y=null)},i:X,o:X,d(b){b&&_(e),ft(E,b),p&&p.d(),y&&y.d(),c=!1,ut(v)}}}function Si(t,e,r){const l=Yt();let n="",a=[],i=[],o=!1,s=null;const u=[{id:"1",name:"Ð˜Ð²Ð°Ð½ ÐŸÐµÑ‚Ñ€Ð¾Ð²",type:"user"},{id:"2",name:"ÐœÐ°Ñ€Ð¸Ñ Ð¡Ð¸Ð´Ð¾Ñ€Ð¾Ð²Ð°",type:"user"},{id:"3",name:"ÐÐ»ÐµÐºÑÐµÐ¹ ÐšÐ¾Ð·Ð»Ð¾Ð²",type:"user"}],h={"@":{type:"user",label:"Ð¡Ð¾Ñ‚Ñ€ÑƒÐ´Ð½Ð¸Ðº",data:u},"#":{type:"media",label:"Ð¡ÐœÐ˜",data:[{id:"1",name:"Forbes",type:"media"},{id:"2",name:"Ð Ð‘Ðš",type:"media"},{id:"3",name:"ÐšÐ¾Ð¼Ð¼ÐµÑ€ÑÐ°Ð½Ñ‚",type:"media"}]},"Ð°Ð²Ñ‚Ð¾Ñ€:":{type:"author",label:"ÐÐ²Ñ‚Ð¾Ñ€",data:u},"Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¾Ñ€:":{type:"editor",label:"Ð ÐµÐ´Ð°ÐºÑ‚Ð¾Ñ€",data:u},"Ð¼ÐµÐ½ÐµÐ´Ð¶ÐµÑ€:":{type:"manager",label:"ÐœÐµÐ½ÐµÐ´Ð¶ÐµÑ€",data:u},"ÐºÐ»Ð¸ÐµÐ½Ñ‚:":{type:"client",label:"ÐšÐ»Ð¸ÐµÐ½Ñ‚",data:[]}};function c(C){const S=C.target.value;r(0,n=S);for(const[A,x]of Object.entries(h))if(S.endsWith(A)){r(4,s={op:A,...x}),r(2,i=x.data),r(3,o=!0);return}if(s){const A=S.split(s.op).pop().toLowerCase();r(2,i=s.data.filter(x=>x.name.toLowerCase().includes(A))),r(3,o=i.length>0)}else r(3,o=!1)}function v(C){let S;s.op==="@"||s.op==="#"?S=`${s.op}${C.name}`:S=`${s.op}${C.name}`,r(1,a=[...a,{type:s.type,value:S,id:C.id,displayName:C.name}]),r(0,n=n.substring(0,n.lastIndexOf(s.op))),r(4,s=null),r(3,o=!1),p()}function g(C){r(1,a=a.filter((S,A)=>A!==C)),p()}function E(C){C.key==="Backspace"&&n===""&&a.length>0?(r(1,a=a.slice(0,-1)),p()):C.key==="Escape"?(r(0,n=""),r(1,a=[]),r(3,o=!1),r(4,s=null),p()):C.key==="Enter"&&o&&i.length>0&&v(i[0])}function p(){const C={};a.forEach(S=>{switch(S.type){case"user":break;case"author":C.author_id=S.id;break;case"editor":C.editor_id=S.id;break;case"manager":C.manager_id=S.id;break;case"client":C.client_id=S.id;break;case"media":C.media_id=S.id;break}}),n.trim()&&(C.search=n.trim()),l("search",C)}function y(){r(0,n=""),r(1,a=[]),r(3,o=!1),r(4,s=null),p()}const b=C=>g(C);function k(){n=this.value,r(0,n)}return[n,a,i,o,s,c,v,g,E,y,b,k,()=>setTimeout(()=>r(3,o=!1),200),C=>v(C)]}class Ci extends ye{constructor(e){super(),Ee(this,e,Si,Oi,be,{})}}function Al(t,e,r){const l=t.slice();return l[4]=e[r],l}function Nl(t){let e,r;return e=new wi({props:{column:t[4],tasks:t[0][t[4].id]||[]}}),{c(){Ze(e.$$.fragment)},l(l){tt(e.$$.fragment,l)},m(l,n){Ye(e,l,n),r=!0},p(l,n){const a={};n&1&&(a.tasks=l[0][l[4].id]||[]),e.$set(a)},i(l){r||(ge(e.$$.fragment,l),r=!0)},o(l){we(e.$$.fragment,l),r=!1},d(l){We(e,l)}}}function Ai(t){let e,r,l,n,a,i,o;l=new Ci({}),l.$on("search",t[2]);let s=Ie(t[1]),u=[];for(let h=0;h<s.length;h+=1)u[h]=Nl(Al(t,s,h));const m=h=>we(u[h],1,1,()=>{u[h]=null});return{c(){e=w("div"),r=w("div"),Ze(l.$$.fragment),n=M(),a=w("div"),i=w("div");for(let h=0;h<u.length;h+=1)u[h].c();this.h()},l(h){e=D(h,"DIV",{class:!0});var c=I(e);r=D(c,"DIV",{class:!0});var v=I(r);tt(l.$$.fragment,v),v.forEach(_),n=N(c),a=D(c,"DIV",{class:!0});var g=I(a);i=D(g,"DIV",{class:!0});var E=I(i);for(let p=0;p<u.length;p+=1)u[p].l(E);E.forEach(_),g.forEach(_),c.forEach(_),this.h()},h(){f(r,"class","p-4 border-b border-gray-200 bg-white"),f(i,"class","flex gap-4 min-w-max h-full"),f(a,"class","flex-1 overflow-x-auto p-4"),f(e,"class","flex flex-col h-full")},m(h,c){j(h,e,c),d(e,r),Ye(l,r,null),d(e,n),d(e,a),d(a,i);for(let v=0;v<u.length;v+=1)u[v]&&u[v].m(i,null);o=!0},p(h,[c]){if(c&3){s=Ie(h[1]);let v;for(v=0;v<s.length;v+=1){const g=Al(h,s,v);u[v]?(u[v].p(g,c),ge(u[v],1)):(u[v]=Nl(g),u[v].c(),ge(u[v],1),u[v].m(i,null))}for(pt(),v=s.length;v<u.length;v+=1)m(v);bt()}},i(h){if(!o){ge(l.$$.fragment,h);for(let c=0;c<s.length;c+=1)ge(u[c]);o=!0}},o(h){we(l.$$.fragment,h),u=u.filter(Boolean);for(let c=0;c<u.length;c+=1)we(u[c]);o=!1},d(h){h&&_(e),We(l),ft(u,h)}}}function Ni(t,e,r){let l;nn(t,sn,o=>r(0,l=o));const n=[{id:"new",label:"ÐÐ¾Ð²Ñ‹Ðµ",color:"bg-gray-500"},{id:"in_progress",label:"Ð’ Ñ€Ð°Ð±Ð¾Ñ‚Ðµ",color:"bg-blue-500"},{id:"editor_review",label:"ÐÐ° Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐµ Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¾Ñ€Ð°",color:"bg-purple-500"},{id:"client_approval",label:"ÐÐ° ÑÐ¾Ð³Ð»Ð°ÑÐ¾Ð²Ð°Ð½Ð¸Ð¸ Ñƒ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð°",color:"bg-amber-500"},{id:"client_approved",label:"Ð¡Ð¾Ð³Ð»Ð°ÑÐ¾Ð²Ð°Ð½Ð¾ ÐºÐ»Ð¸ÐµÐ½Ñ‚Ð¾Ð¼",color:"bg-green-500"},{id:"sent_to_media",label:"ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¾ Ð² Ð¡ÐœÐ˜",color:"bg-cyan-500"},{id:"published",label:"ÐžÐ¿ÑƒÐ±Ð»Ð¸ÐºÐ¾Ð²Ð°Ð½Ð¾",color:"bg-emerald-500"},{id:"postponed",label:"ÐžÑ‚Ð»Ð¾Ð¶ÐµÐ½Ð¾",color:"bg-red-500"}];let a={};function i(o){a=o.detail,Me.load(a)}return[l,n,i]}class Mi extends ye{constructor(e){super(),Ee(this,e,Ni,Ai,be,{})}}function Ri(t){let e,r,l,n;return l=new Mi({}),{c(){e=M(),r=w("div"),Ze(l.$$.fragment),this.h()},l(a){an("svelte-1nzkjl4",document.head).forEach(_),e=N(a),r=D(a,"DIV",{class:!0});var o=I(r);tt(l.$$.fragment,o),o.forEach(_),this.h()},h(){document.title="Ð—Ð°Ð´Ð°Ñ‡Ð¸ | CRM",f(r,"class","h-screen")},m(a,i){j(a,e,i),j(a,r,i),Ye(l,r,null),n=!0},p:X,i(a){n||(ge(l.$$.fragment,a),n=!0)},o(a){we(l.$$.fragment,a),n=!1},d(a){a&&(_(e),_(r)),We(l)}}}function Vi(t){return Rl(()=>{Me.load()}),[]}class ji extends ye{constructor(e){super(),Ee(this,e,Vi,Ri,be,{})}}export{ji as component};
